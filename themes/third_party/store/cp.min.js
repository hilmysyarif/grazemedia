// Generated by CoffeeScript 1.4.0
/*
Exp:resso Store module for ExpressionEngine (support@exp-resso.com)
Copyright (c) 2010-2013 Exp:resso
All rights reserved.
*/(function(){var e,t,n,r;e=jQuery;t=(n=window.ExpressoStore)!=null?n:window.ExpressoStore={};(r=t.products)==null&&(t.products={});t.formatCurrency=function(n){var r,i,s;r=e.extend({currencySymbol:"$",currencyDecimals:2,currencyThousandsSep:",",currencyDecPoint:".",currencySuffix:""},t.currencyConfig);s=n.toFixed(r.currencyDecimals).split(".");i=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,r.currencyThousandsSep);s[1]!=null&&(i+=r.currencyDecPoint+s[1]);return r.currencySymbol+i+r.currencySuffix};t.serializeForm=function(t){var n,r,i,s,o;r={};o=e(t).serializeArray();for(i=0,s=o.length;i<s;i++){n=o[i];r[n.name]=n.value}return r};t.matchSku=function(e){var n,r,i,s,o,u,a,f,l;o=t.products[e.entry_id];if(!o)return!1;if(o.stock.length===1)return o.stock[0];f=o.stock;for(u=0,a=f.length;u<a;u++){n=f[u];r=!0;l=n.opt_values;for(i in l){s=l[i];if(e["modifiers_"+i]!==s.toString()){r=!1;break}}if(r)return n}return!1};t.calculatePrice=function(e){var n,r,i,s,o,u,a;u=t.products[e.entry_id];if(!u)return!1;o=u.price;a=u.modifiers;for(n in a){r=a[n];i=e["modifiers_"+n];s=r.options[i];s&&(o+=s.opt_price_mod_val)}return o};t.updateSku=function(){var n,r,i,s,o,u,a,f,l,c;f=c="";i=!0;r=t.serializeForm(this.form);l=t.matchSku(r);if(l){f=l.sku;if(l.track_stock==="y"){c=l.stock_level;c<=0&&(i=!1)}}n=e(this.form);e(".store_product_sku",n).val(f).text(f).trigger("change");e(".store_product_stock",n).val(c).text(c).trigger("change");e(".store_product_in_stock",n).toggle(i);e(".store_product_out_of_stock",n).toggle(!i);s=t.calculatePrice(r);if(s!==!1){a=t.formatCurrency(s);o=s*(1+t.cart.tax_rate);u=t.formatCurrency(o);e(".store_product_price_val",n).val(s).text(s).trigger("change");e(".store_product_price",n).val(a).html(a).trigger("change");e(".store_product_price_inc_tax_val",n).val(o).text(o).trigger("change");return e(".store_product_price_inc_tax",n).val(u).html(u).trigger("change")}};t.changeRegionSelect=function(e,n){var r,i,s;s=t.countries[e].regions;n.empty();for(r in s){i=s[r];n.append('<option value="'+r+'">'+i+"</option>")}n.children().size()===0&&n.append("<option></option>");return n.trigger("change")};e(function(){if(t.products){e(document).delegate('.store_product_form [name^="modifiers"]:not(:radio)',"change",t.updateSku).delegate('.store_product_form [name^="modifiers"]:radio',"click",t.updateSku);e(".store_product_form input:first").each(t.updateSku)}if(t.countries){e("select[name=billing_country]").change(function(){return t.changeRegionSelect(e(this).val(),e("select[name=billing_region]"))});return e("select[name=shipping_country]").change(function(){return t.changeRegionSelect(e(this).val(),e("select[name=shipping_region]"))})}})}).call(this);(function($,window,document){$.fn.dataTableSettings=[];var _aoSettings=$.fn.dataTableSettings;$.fn.dataTableExt={};var _oExt=$.fn.dataTableExt;_oExt.sVersion="1.7.6";_oExt.sErrMode="alert";_oExt.iApiIndex=0;_oExt.oApi={};_oExt.afnFiltering=[];_oExt.aoFeatures=[];_oExt.ofnSearch={};_oExt.afnSortData=[];_oExt.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""};_oExt.oJUIClasses={sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"};_oExt.oPagination={two_button:{fnInit:function(e,t,n){var r,i,s,o;if(!e.bJUI){r=document.createElement("div");i=document.createElement("div")}else{r=document.createElement("a");i=document.createElement("a");o=document.createElement("span");o.className=e.oClasses.sPageJUINext;i.appendChild(o);s=document.createElement("span");s.className=e.oClasses.sPageJUIPrev;r.appendChild(s)}r.className=e.oClasses.sPagePrevDisabled;i.className=e.oClasses.sPageNextDisabled;r.title=e.oLanguage.oPaginate.sPrevious;i.title=e.oLanguage.oPaginate.sNext;t.appendChild(r);t.appendChild(i);$(r).bind("click.DT",function(){e.oApi._fnPageChange(e,"previous")&&n(e)});$(i).bind("click.DT",function(){e.oApi._fnPageChange(e,"next")&&n(e)});$(r).bind("selectstart.DT",function(){return!1});$(i).bind("selectstart.DT",function(){return!1});if(e.sTableId!==""&&typeof e.aanFeatures.p=="undefined"){t.setAttribute("id",e.sTableId+"_paginate");r.setAttribute("id",e.sTableId+"_previous");i.setAttribute("id",e.sTableId+"_next")}},fnUpdate:function(e,t){if(!e.aanFeatures.p)return;var n=e.aanFeatures.p;for(var r=0,i=n.length;r<i;r++)if(n[r].childNodes.length!==0){n[r].childNodes[0].className=e._iDisplayStart===0?e.oClasses.sPagePrevDisabled:e.oClasses.sPagePrevEnabled;n[r].childNodes[1].className=e.fnDisplayEnd()==e.fnRecordsDisplay()?e.oClasses.sPageNextDisabled:e.oClasses.sPageNextEnabled}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var r=document.createElement("span"),i=document.createElement("span"),s=document.createElement("span"),o=document.createElement("span"),u=document.createElement("span");r.innerHTML=e.oLanguage.oPaginate.sFirst;i.innerHTML=e.oLanguage.oPaginate.sPrevious;o.innerHTML=e.oLanguage.oPaginate.sNext;u.innerHTML=e.oLanguage.oPaginate.sLast;var a=e.oClasses;r.className=a.sPageButton+" "+a.sPageFirst;i.className=a.sPageButton+" "+a.sPagePrevious;o.className=a.sPageButton+" "+a.sPageNext;u.className=a.sPageButton+" "+a.sPageLast;t.appendChild(r);t.appendChild(i);t.appendChild(s);t.appendChild(o);t.appendChild(u);$(r).bind("click.DT",function(){e.oApi._fnPageChange(e,"first")&&n(e)});$(i).bind("click.DT",function(){e.oApi._fnPageChange(e,"previous")&&n(e)});$(o).bind("click.DT",function(){e.oApi._fnPageChange(e,"next")&&n(e)});$(u).bind("click.DT",function(){e.oApi._fnPageChange(e,"last")&&n(e)});$("span",t).bind("mousedown.DT",function(){return!1}).bind("selectstart.DT",function(){return!1});if(e.sTableId!==""&&typeof e.aanFeatures.p=="undefined"){t.setAttribute("id",e.sTableId+"_paginate");r.setAttribute("id",e.sTableId+"_first");i.setAttribute("id",e.sTableId+"_previous");o.setAttribute("id",e.sTableId+"_next");u.setAttribute("id",e.sTableId+"_last")}},fnUpdate:function(e,t){if(!e.aanFeatures.p)return;var n=_oExt.oPagination.iFullNumbersShowPages,r=Math.floor(n/2),i=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),s=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,o="",u,a,f,l,c=e.oClasses;if(i<n){u=1;a=i}else if(s<=r){u=1;a=n}else if(s>=i-r){u=i-n+1;a=i}else{u=s-Math.ceil(n/2)+1;a=u+n-1}for(f=u;f<=a;f++)s!=f?o+='<span class="'+c.sPageButton+'">'+f+"</span>":o+='<span class="'+c.sPageButtonActive+'">'+f+"</span>";var h=e.aanFeatures.p,p,d,v,m=function(){var n=this.innerHTML*1-1;e._iDisplayStart=n*e._iDisplayLength;t(e);return!1},g=function(){return!1};for(f=0,l=h.length;f<l;f++){if(h[f].childNodes.length===0)continue;var y=$("span:eq(2)",h[f]);y.html(o);$("span",y).bind("click.DT",m).bind("mousedown.DT",g).bind("selectstart.DT",g);p=h[f].getElementsByTagName("span");d=[p[0],p[1],p[p.length-2],p[p.length-1]];$(d).removeClass(c.sPageButton+" "+c.sPageButtonActive+" "+c.sPageButtonStaticDisabled);if(s==1){d[0].className+=" "+c.sPageButtonStaticDisabled;d[1].className+=" "+c.sPageButtonStaticDisabled}else{d[0].className+=" "+c.sPageButton;d[1].className+=" "+c.sPageButton}if(i===0||s==i||e._iDisplayLength==-1){d[2].className+=" "+c.sPageButtonStaticDisabled;d[3].className+=" "+c.sPageButtonStaticDisabled}else{d[2].className+=" "+c.sPageButton;d[3].className+=" "+c.sPageButton}}}}};_oExt.oSort={"string-asc":function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n<r?-1:n>r?1:0},"string-desc":function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n<r?1:n>r?-1:0},"html-asc":function(e,t){var n=e.replace(/<.*?>/g,"").toLowerCase(),r=t.replace(/<.*?>/g,"").toLowerCase();return n<r?-1:n>r?1:0},"html-desc":function(e,t){var n=e.replace(/<.*?>/g,"").toLowerCase(),r=t.replace(/<.*?>/g,"").toLowerCase();return n<r?1:n>r?-1:0},"date-asc":function(e,t){var n=Date.parse(e),r=Date.parse(t);if(isNaN(n)||n==="")n=Date.parse("01/01/1970 00:00:00");if(isNaN(r)||r==="")r=Date.parse("01/01/1970 00:00:00");return n-r},"date-desc":function(e,t){var n=Date.parse(e),r=Date.parse(t);if(isNaN(n)||n==="")n=Date.parse("01/01/1970 00:00:00");if(isNaN(r)||r==="")r=Date.parse("01/01/1970 00:00:00");return r-n},"numeric-asc":function(e,t){var n=e=="-"||e===""?0:e*1,r=t=="-"||t===""?0:t*1;return n-r},"numeric-desc":function(e,t){var n=e=="-"||e===""?0:e*1,r=t=="-"||t===""?0:t*1;return r-n}};_oExt.aTypes=[function(e){if(e.length===0)return"numeric";var t="0123456789-",n="0123456789.",r,i=!1;r=e.charAt(0);if(t.indexOf(r)==-1)return null;for(var s=1;s<e.length;s++){r=e.charAt(s);if(n.indexOf(r)==-1)return null;if(r=="."){if(i)return null;i=!0}}return"numeric"},function(e){var t=Date.parse(e);return t!==null&&!isNaN(t)||e.length===0?"date":null},function(e){return e.indexOf("<")!=-1&&e.indexOf(">")!=-1?"html":null}];_oExt.fnVersionCheck=function(e){var t=function(e,t){while(e.length<t)e+="0";return e},n=_oExt.sVersion.split("."),r=e.split("."),i="",s="";for(var o=0,u=r.length;o<u;o++){i+=t(n[o],3);s+=t(r[o],3)}return parseInt(i,10)>=parseInt(s,10)};_oExt._oExternConfig={iNextUnique:0};$.fn.dataTable=function(oInit){function classSettings(){this.fnRecordsTotal=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length};this.fnRecordsDisplay=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length};this.fnDisplayEnd=function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||this._iDisplayLength==-1?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd};this.oInstance=null;this.sInstance=null;this.oFeatures={bPaginate:!0,bLengthChange:!0,bFilter:!0,bSort:!0,bInfo:!0,bAutoWidth:!0,bProcessing:!1,bSortClasses:!0,bStateSave:!1,bServerSide:!1};this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:!1,bInfinite:!1,iLoadGap:100,iBarWidth:0,bAutoCss:!0};this.aanFeatures=[];this.oLanguage={sProcessing:"Processing...",sLengthMenu:"Show _MENU_ entries",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sSearch:"Search:",sUrl:"",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},fnInfoCallback:null};this.aoData=[];this.aiDisplay=[];this.aiDisplayMaster=[];this.aoColumns=[];this.iNextId=0;this.asDataSearch=[];this.oPreviousSearch={sSearch:"",bRegex:!1,bSmart:!0};this.aoPreSearchCols=[];this.aaSorting=[[0,"asc",0]];this.aaSortingFixed=null;this.asStripClasses=[];this.asDestoryStrips=[];this.sDestroyWidth=0;this.fnRowCallback=null;this.fnHeaderCallback=null;this.fnFooterCallback=null;this.aoDrawCallback=[];this.fnInitComplete=null;this.sTableId="";this.nTable=null;this.nTHead=null;this.nTFoot=null;this.nTBody=null;this.nTableWrapper=null;this.bInitialised=!1;this.aoOpenRows=[];this.sDom="lfrtip";this.sPaginationType="two_button";this.iCookieDuration=7200;this.sCookiePrefix="SpryMedia_DataTables_";this.fnCookieCallback=null;this.aoStateSave=[];this.aoStateLoad=[];this.oLoadedState=null;this.sAjaxSource=null;this.bAjaxDataGet=!0;this.fnServerData=function(e,t,n){$.ajax({url:e,data:t,success:n,dataType:"json",cache:!1,error:function(e,t,n){t=="parsererror"&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})};this.fnFormatNumber=function(e){if(e<1e3)return e;var t=e+"",n=t.split(""),r="",i=t.length;for(var s=0;s<i;s++){s%3===0&&s!==0&&(r=","+r);r=n[i-s-1]+r}return r};this.aLengthMenu=[10,25,50,100];this.iDraw=0;this.bDrawing=0;this.iDrawError=-1;this._iDisplayLength=10;this._iDisplayStart=0;this._iDisplayEnd=10;this._iRecordsTotal=0;this._iRecordsDisplay=0;this.bJUI=!1;this.oClasses=_oExt.oStdClasses;this.bFiltered=!1;this.bSorted=!1;this.oInit=null}function _fnExternApiFunc(e){return function(){var t=[_fnSettingsFromNode(this[_oExt.iApiIndex])].concat(Array.prototype.slice.call(arguments));return _oExt.oApi[e].apply(this,t)}}function _fnInitalise(e){var t,n;if(e.bInitialised===!1){setTimeout(function(){_fnInitalise(e)},200);return}_fnAddOptionsHtml(e);_fnDrawHead(e);_fnProcessingDisplay(e,!0);e.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(e);for(t=0,n=e.aoColumns.length;t<n;t++)e.aoColumns[t].sWidth!==null&&(e.aoColumns[t].nTh.style.width=_fnStringToCss(e.aoColumns[t].sWidth));if(e.oFeatures.bSort)_fnSort(e);else{e.aiDisplay=e.aiDisplayMaster.slice();_fnCalculateEnd(e);_fnDraw(e)}if(e.sAjaxSource!==null&&!e.oFeatures.bServerSide){e.fnServerData.call(e.oInstance,e.sAjaxSource,[],function(n){for(t=0;t<n.aaData.length;t++)_fnAddData(e,n.aaData[t]);e.iInitDisplayStart=e._iDisplayStart;if(e.oFeatures.bSort)_fnSort(e);else{e.aiDisplay=e.aiDisplayMaster.slice();_fnCalculateEnd(e);_fnDraw(e)}_fnProcessingDisplay(e,!1);_fnInitComplete(e,n)});return}if(!e.oFeatures.bServerSide){_fnProcessingDisplay(e,!1);_fnInitComplete(e)}}function _fnInitComplete(e,t){e._bInitComplete=!0;typeof e.fnInitComplete=="function"&&(typeof t!="undefined"?e.fnInitComplete.call(e.oInstance,e,t):e.fnInitComplete.call(e.oInstance,e))}function _fnLanguageProcess(e,t,n){_fnMap(e.oLanguage,t,"sProcessing");_fnMap(e.oLanguage,t,"sLengthMenu");_fnMap(e.oLanguage,t,"sEmptyTable");_fnMap(e.oLanguage,t,"sZeroRecords");_fnMap(e.oLanguage,t,"sInfo");_fnMap(e.oLanguage,t,"sInfoEmpty");_fnMap(e.oLanguage,t,"sInfoFiltered");_fnMap(e.oLanguage,t,"sInfoPostFix");_fnMap(e.oLanguage,t,"sSearch");if(typeof t.oPaginate!="undefined"){_fnMap(e.oLanguage.oPaginate,t.oPaginate,"sFirst");_fnMap(e.oLanguage.oPaginate,t.oPaginate,"sPrevious");_fnMap(e.oLanguage.oPaginate,t.oPaginate,"sNext");_fnMap(e.oLanguage.oPaginate,t.oPaginate,"sLast")}typeof t.sEmptyTable=="undefined"&&typeof t.sZeroRecords!="undefined"&&_fnMap(e.oLanguage,t,"sZeroRecords","sEmptyTable");n&&_fnInitalise(e)}function _fnAddColumn(e,t){e.aoColumns[e.aoColumns.length++]={sType:null,_bAutoType:!0,bVisible:!0,bSearchable:!0,bSortable:!0,asSorting:["asc","desc"],sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,sTitle:t?t.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:!0,iDataSort:e.aoColumns.length-1,sSortDataType:"std",nTh:t?t:document.createElement("th"),nTf:null,anThExtra:[],anTfExtra:[]};var n=e.aoColumns.length-1,r=e.aoColumns[n];if(typeof e.aoPreSearchCols[n]=="undefined"||e.aoPreSearchCols[n]===null)e.aoPreSearchCols[n]={sSearch:"",bRegex:!1,bSmart:!0};else{typeof e.aoPreSearchCols[n].bRegex=="undefined"&&(e.aoPreSearchCols[n].bRegex=!0);typeof e.aoPreSearchCols[n].bSmart=="undefined"&&(e.aoPreSearchCols[n].bSmart=!0)}_fnColumnOptions(e,n,null)}function _fnColumnOptions(e,t,n){var r=e.aoColumns[t];if(typeof n!="undefined"&&n!==null){if(typeof n.sType!="undefined"){r.sType=n.sType;r._bAutoType=!1}_fnMap(r,n,"bVisible");_fnMap(r,n,"bSearchable");_fnMap(r,n,"bSortable");_fnMap(r,n,"sTitle");_fnMap(r,n,"sName");_fnMap(r,n,"sWidth");_fnMap(r,n,"sWidth","sWidthOrig");_fnMap(r,n,"sClass");_fnMap(r,n,"fnRender");_fnMap(r,n,"bUseRendered");_fnMap(r,n,"iDataSort");_fnMap(r,n,"asSorting");_fnMap(r,n,"sSortDataType")}e.oFeatures.bSort||(r.bSortable=!1);if(!r.bSortable||$.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)==-1){r.sSortingClass=e.oClasses.sSortableNone;r.sSortingClassJUI=""}else if($.inArray("asc",r.asSorting)!=-1&&$.inArray("desc",r.asSorting)==-1){r.sSortingClass=e.oClasses.sSortableAsc;r.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed}else if($.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)!=-1){r.sSortingClass=e.oClasses.sSortableDesc;r.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed}}function _fnAddData(e,t){if(t.length!=e.aoColumns.length&&e.iDrawError!=e.iDraw){_fnLog(e,0,"Added data (size "+t.length+") does not match known "+"number of columns ("+e.aoColumns.length+")");e.iDrawError=e.iDraw;return-1}var n=t.slice(),r=e.aoData.length;e.aoData.push({nTr:document.createElement("tr"),_iId:e.iNextId++,_aData:n,_anHidden:[],_sRowStripe:""});var i,s;for(var o=0;o<n.length;o++){i=document.createElement("td");n[o]===null&&(n[o]="");if(typeof e.aoColumns[o].fnRender=="function"){var u=e.aoColumns[o].fnRender({iDataRow:r,iDataColumn:o,aData:n,oSettings:e});i.innerHTML=u;e.aoColumns[o].bUseRendered&&(e.aoData[r]._aData[o]=u)}else i.innerHTML=n[o];typeof n[o]!="string"&&(n[o]+="");n[o]=$.trim(n[o]);e.aoColumns[o].sClass!==null&&(i.className=e.aoColumns[o].sClass);if(e.aoColumns[o]._bAutoType&&e.aoColumns[o].sType!="string"){s=_fnDetectType(e.aoData[r]._aData[o]);e.aoColumns[o].sType===null?e.aoColumns[o].sType=s:e.aoColumns[o].sType!=s&&(e.aoColumns[o].sType="string")}if(e.aoColumns[o].bVisible){e.aoData[r].nTr.appendChild(i);e.aoData[r]._anHidden[o]=null}else e.aoData[r]._anHidden[o]=i}e.aiDisplayMaster.push(r);return r}function _fnGatherData(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v;if(e.sAjaxSource===null){a=e.nTBody.childNodes;for(n=0,r=a.length;n<r;n++)if(a[n].nodeName.toUpperCase()=="TR"){c=e.aoData.length;e.aoData.push({nTr:a[n],_iId:e.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""});e.aiDisplayMaster.push(c);l=e.aoData[c]._aData;u=a[n].childNodes;o=0;for(i=0,s=u.length;i<s;i++)if(u[i].nodeName.toUpperCase()=="TD"){l[o]=$.trim(u[i].innerHTML);o++}}}a=_fnGetTrNodes(e);u=[];for(n=0,r=a.length;n<r;n++)for(i=0,s=a[n].childNodes.length;i<s;i++){f=a[n].childNodes[i];f.nodeName.toUpperCase()=="TD"&&u.push(f)}u.length!=a.length*e.aoColumns.length&&_fnLog(e,1,"Unexpected number of TD elements. Expected "+a.length*e.aoColumns.length+" and got "+u.length+". DataTables does "+"not support rowspan / colspan in the table body, and there must be one cell for each "+"row/column combination.");for(d=0,v=e.aoColumns.length;d<v;d++){e.aoColumns[d].sTitle===null&&(e.aoColumns[d].sTitle=e.aoColumns[d].nTh.innerHTML);var m=e.aoColumns[d]._bAutoType,g=typeof e.aoColumns[d].fnRender=="function",y=e.aoColumns[d].sClass!==null,b=e.aoColumns[d].bVisible,w,E,S;if(m||g||y||!b)for(h=0,p=e.aoData.length;h<p;h++){w=u[h*v+d];if(m&&e.aoColumns[d].sType!="string"){E=_fnDetectType(e.aoData[h]._aData[d]);e.aoColumns[d].sType===null?e.aoColumns[d].sType=E:e.aoColumns[d].sType!=E&&(e.aoColumns[d].sType="string")}if(g){S=e.aoColumns[d].fnRender({iDataRow:h,iDataColumn:d,aData:e.aoData[h]._aData,oSettings:e});w.innerHTML=S;e.aoColumns[d].bUseRendered&&(e.aoData[h]._aData[d]=S)}y&&(w.className+=" "+e.aoColumns[d].sClass);if(!b){e.aoData[h]._anHidden[d]=w;w.parentNode.removeChild(w)}else e.aoData[h]._anHidden[d]=null}}}function _fnDrawHead(e){var t,n,r,i,s,o=e.nTHead.getElementsByTagName("tr"),u=e.nTHead.getElementsByTagName("th").length,a=0,f;if(u!==0)for(t=0,r=e.aoColumns.length;t<r;t++){n=e.aoColumns[t].nTh;e.aoColumns[t].sClass!==null&&$(n).addClass(e.aoColumns[t].sClass);for(i=1,s=o.length;i<s;i++){f=$(o[i]).children();e.aoColumns[t].anThExtra.push(f[t-a]);e.aoColumns[t].bVisible||o[i].removeChild(f[t-a])}if(e.aoColumns[t].bVisible)e.aoColumns[t].sTitle!=n.innerHTML&&(n.innerHTML=e.aoColumns[t].sTitle);else{n.parentNode.removeChild(n);a++}}else{var l=document.createElement("tr");for(t=0,r=e.aoColumns.length;t<r;t++){n=e.aoColumns[t].nTh;n.innerHTML=e.aoColumns[t].sTitle;e.aoColumns[t].sClass!==null&&$(n).addClass(e.aoColumns[t].sClass);e.aoColumns[t].bVisible&&l.appendChild(n)}$(e.nTHead).html("")[0].appendChild(l)}if(e.bJUI)for(t=0,r=e.aoColumns.length;t<r;t++){n=e.aoColumns[t].nTh;var c=document.createElement("div");c.className=e.oClasses.sSortJUIWrapper;$(n).contents().appendTo(c);c.appendChild(document.createElement("span"));n.appendChild(c)}var h=function(e){this.onselectstart=function(){return!1};return!1};if(e.oFeatures.bSort)for(t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable!==!1){_fnSortAttachListener(e,e.aoColumns[t].nTh,t);$(e.aoColumns[t].nTh).bind("mousedown.DT",h)}else $(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);if(e.nTFoot!==null){a=0;o=e.nTFoot.getElementsByTagName("tr");var p=o[0].getElementsByTagName("th");for(t=0,r=p.length;t<r;t++)if(typeof e.aoColumns[t]!="undefined"){e.aoColumns[t].nTf=p[t-a];e.oClasses.sFooterTH!==""&&(e.aoColumns[t].nTf.className+=" "+e.oClasses.sFooterTH);for(i=1,s=o.length;i<s;i++){f=$(o[i]).children();e.aoColumns[t].anTfExtra.push(f[t-a]);e.aoColumns[t].bVisible||o[i].removeChild(f[t-a])}if(!e.aoColumns[t].bVisible){p[t-a].parentNode.removeChild(p[t-a]);a++}}}}function _fnDraw(e){var t,n,r=[],i=0,s=!1,o=e.asStripClasses.length,u=e.aoOpenRows.length;e.bDrawing=!0;if(typeof e.iInitDisplayStart!="undefined"&&e.iInitDisplayStart!=-1){e.oFeatures.bServerSide?e._iDisplayStart=e.iInitDisplayStart:e._iDisplayStart=e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart;e.iInitDisplayStart=-1;_fnCalculateEnd(e)}if(!e.bDestroying&&e.oFeatures.bServerSide&&!_fnAjaxUpdate(e))return;e.oFeatures.bServerSide||e.iDraw++;if(e.aiDisplay.length!==0){var a=e._iDisplayStart,f=e._iDisplayEnd;if(e.oFeatures.bServerSide){a=0;f=e.aoData.length}for(var l=a;l<f;l++){var c=e.aoData[e.aiDisplay[l]],h=c.nTr;if(o!==0){var p=e.asStripClasses[i%o];if(c._sRowStripe!=p){$(h).removeClass(c._sRowStripe).addClass(p);c._sRowStripe=p}}if(typeof e.fnRowCallback=="function"){h=e.fnRowCallback.call(e.oInstance,h,e.aoData[e.aiDisplay[l]]._aData,i,l);if(!h&&!s){_fnLog(e,0,"A node was not returned by fnRowCallback");s=!0}}r.push(h);i++;if(u!==0)for(var d=0;d<u;d++)h==e.aoOpenRows[d].nParent&&r.push(e.aoOpenRows[d].nTr)}}else{r[0]=document.createElement("tr");typeof e.asStripClasses[0]!="undefined"&&(r[0].className=e.asStripClasses[0]);var v=document.createElement("td");v.setAttribute("valign","top");v.colSpan=_fnVisbleColumns(e);v.className=e.oClasses.sRowEmpty;typeof e.oLanguage.sEmptyTable!="undefined"&&e.fnRecordsTotal()===0?v.innerHTML=e.oLanguage.sEmptyTable:v.innerHTML=e.oLanguage.sZeroRecords.replace("_MAX_",e.fnFormatNumber(e.fnRecordsTotal()));r[i].appendChild(v)}typeof e.fnHeaderCallback=="function"&&e.fnHeaderCallback.call(e.oInstance,$(">tr",e.nTHead)[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay);typeof e.fnFooterCallback=="function"&&e.fnFooterCallback.call(e.oInstance,$(">tr",e.nTFoot)[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay);var m=document.createDocumentFragment(),g=document.createDocumentFragment(),y,b;if(e.nTBody){y=e.nTBody.parentNode;g.appendChild(e.nTBody);if(!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered){b=e.nTBody.childNodes;for(t=b.length-1;t>=0;t--)b[t].parentNode.removeChild(b[t])}for(t=0,n=r.length;t<n;t++)m.appendChild(r[t]);e.nTBody.appendChild(m);y!==null&&y.appendChild(e.nTBody)}for(t=e.aoDrawCallback.length-1;t>=0;t--)e.aoDrawCallback[t].fn.call(e.oInstance,e);e.bSorted=!1;e.bFiltered=!1;e.bDrawing=!1;if(e.oFeatures.bServerSide){_fnProcessingDisplay(e,!1);typeof e._bInitComplete=="undefined"&&_fnInitComplete(e)}}function _fnReDraw(e){if(e.oFeatures.bSort)_fnSort(e,e.oPreviousSearch);else if(e.oFeatures.bFilter)_fnFilterComplete(e,e.oPreviousSearch);else{_fnCalculateEnd(e);_fnDraw(e)}}function _fnAjaxUpdate(e){if(e.bAjaxDataGet){_fnProcessingDisplay(e,!0);var t=e.aoColumns.length,n=[],r;e.iDraw++;n.push({name:"sEcho",value:e.iDraw});n.push({name:"iColumns",value:t});n.push({name:"sColumns",value:_fnColumnOrdering(e)});n.push({name:"iDisplayStart",value:e._iDisplayStart});n.push({name:"iDisplayLength",value:e.oFeatures.bPaginate!==!1?e._iDisplayLength:-1});if(e.oFeatures.bFilter!==!1){n.push({name:"sSearch",value:e.oPreviousSearch.sSearch});n.push({name:"bRegex",value:e.oPreviousSearch.bRegex});for(r=0;r<t;r++){n.push({name:"sSearch_"+r,value:e.aoPreSearchCols[r].sSearch});n.push({name:"bRegex_"+r,value:e.aoPreSearchCols[r].bRegex});n.push({name:"bSearchable_"+r,value:e.aoColumns[r].bSearchable})}}if(e.oFeatures.bSort!==!1){var i=e.aaSortingFixed!==null?e.aaSortingFixed.length:0,s=e.aaSorting.length;n.push({name:"iSortingCols",value:i+s});for(r=0;r<i;r++){n.push({name:"iSortCol_"+r,value:e.aaSortingFixed[r][0]});n.push({name:"sSortDir_"+r,value:e.aaSortingFixed[r][1]})}for(r=0;r<s;r++){n.push({name:"iSortCol_"+(r+i),value:e.aaSorting[r][0]});n.push({name:"sSortDir_"+(r+i),value:e.aaSorting[r][1]})}for(r=0;r<t;r++)n.push({name:"bSortable_"+r,value:e.aoColumns[r].bSortable})}e.fnServerData.call(e.oInstance,e.sAjaxSource,n,function(t){_fnAjaxUpdateDraw(e,t)});return!1}return!0}function _fnAjaxUpdateDraw(e,t){if(typeof t.sEcho!="undefined"){if(t.sEcho*1<e.iDraw)return;e.iDraw=t.sEcho*1}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&_fnClearTable(e);e._iRecordsTotal=t.iTotalRecords;e._iRecordsDisplay=t.iTotalDisplayRecords;var n=_fnColumnOrdering(e),r=typeof t.sColumns!="undefined"&&n!==""&&t.sColumns!=n;if(r)var i=_fnReOrderIndex(e,t.sColumns);for(var s=0,o=t.aaData.length;s<o;s++)if(r){var u=[];for(var a=0,f=e.aoColumns.length;a<f;a++)u.push(t.aaData[s][i[a]]);_fnAddData(e,u)}else _fnAddData(e,t.aaData[s]);e.aiDisplay=e.aiDisplayMaster.slice();e.bAjaxDataGet=!1;_fnDraw(e);e.bAjaxDataGet=!0;_fnProcessingDisplay(e,!1)}function _fnAddOptionsHtml(e){var t=document.createElement("div");e.nTable.parentNode.insertBefore(t,e.nTable);e.nTableWrapper=document.createElement("div");e.nTableWrapper.className=e.oClasses.sWrapper;e.sTableId!==""&&e.nTableWrapper.setAttribute("id",e.sTableId+"_wrapper");var n=e.nTableWrapper,r=e.sDom.split(""),i,s,o,u,a,f,l;for(var c=0;c<r.length;c++){s=0;o=r[c];if(o=="<"){u=document.createElement("div");a=r[c+1];if(a=="'"||a=='"'){f="";l=2;while(r[c+l]!=a){f+=r[c+l];l++}f=="H"?f="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix":f=="F"&&(f="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix");if(f.indexOf(".")!=-1){var h=f.split(".");u.setAttribute("id",h[0].substr(1,h[0].length-1));u.className=h[1]}else f.charAt(0)=="#"?u.setAttribute("id",f.substr(1,f.length-1)):u.className=f;c+=l}n.appendChild(u);n=u}else if(o==">")n=n.parentNode;else if(o=="l"&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange){i=_fnFeatureHtmlLength(e);s=1}else if(o=="f"&&e.oFeatures.bFilter){i=_fnFeatureHtmlFilter(e);s=1}else if(o=="r"&&e.oFeatures.bProcessing){i=_fnFeatureHtmlProcessing(e);s=1}else if(o=="t"){i=_fnFeatureHtmlTable(e);s=1}else if(o=="i"&&e.oFeatures.bInfo){i=_fnFeatureHtmlInfo(e);s=1}else if(o=="p"&&e.oFeatures.bPaginate){i=_fnFeatureHtmlPaginate(e);s=1}else if(_oExt.aoFeatures.length!==0){var p=_oExt.aoFeatures;for(var d=0,v=p.length;d<v;d++)if(o==p[d].cFeature){i=p[d].fnInit(e);i&&(s=1);break}}if(s==1&&i!==null){typeof e.aanFeatures[o]!="object"&&(e.aanFeatures[o]=[]);e.aanFeatures[o].push(i);n.appendChild(i)}}t.parentNode.replaceChild(e.nTableWrapper,t)}function _fnFeatureHtmlTable(e){if(e.oScroll.sX===""&&e.oScroll.sY==="")return e.nTable;var t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),u=e.nTable.cloneNode(!1),a=e.nTable.cloneNode(!1),f=e.nTable.getElementsByTagName("thead")[0],l=e.nTable.getElementsByTagName("tfoot").length===0?null:e.nTable.getElementsByTagName("tfoot")[0],c=typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI?_oExt.oJUIClasses:_oExt.oStdClasses;n.appendChild(r);s.appendChild(o);i.appendChild(e.nTable);t.appendChild(n);t.appendChild(i);r.appendChild(u);u.appendChild(f);if(l!==null){t.appendChild(s);o.appendChild(a);a.appendChild(l)}t.className=c.sScrollWrapper;n.className=c.sScrollHead;r.className=c.sScrollHeadInner;i.className=c.sScrollBody;s.className=c.sScrollFoot;o.className=c.sScrollFootInner;if(e.oScroll.bAutoCss){n.style.overflow="hidden";n.style.position="relative";s.style.overflow="hidden";i.style.overflow="auto"}n.style.border="0";n.style.width="100%";s.style.border="0";r.style.width="150%";u.removeAttribute("id");u.style.marginLeft="0";e.nTable.style.marginLeft="0";if(l!==null){a.removeAttribute("id");a.style.marginLeft="0"}var h=$(">caption",e.nTable);for(var p=0,d=h.length;p<d;p++)u.appendChild(h[p]);if(e.oScroll.sX!==""){n.style.width=_fnStringToCss(e.oScroll.sX);i.style.width=_fnStringToCss(e.oScroll.sX);l!==null&&(s.style.width=_fnStringToCss(e.oScroll.sX));$(i).scroll(function(e){n.scrollLeft=this.scrollLeft;l!==null&&(s.scrollLeft=this.scrollLeft)})}e.oScroll.sY!==""&&(i.style.height=_fnStringToCss(e.oScroll.sY));e.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"});e.oScroll.bInfinite&&$(i).scroll(function(){if(!e.bDrawing&&$(this).scrollTop()+$(this).height()>$(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()){_fnPageChange(e,"next");_fnCalculateEnd(e);_fnDraw(e)}});e.nScrollHead=n;e.nScrollFoot=s;return t}function _fnScrollDraw(e){var t=e.nScrollHead.getElementsByTagName("div")[0],n=t.getElementsByTagName("table")[0],r=e.nTable.parentNode,i,s,o,u,a,f,l,c,h,p,d,v=[],m,g=e.nTable.getElementsByTagName("thead");g.length>0&&e.nTable.removeChild(g[0]);if(e.nTFoot!==null){var y=e.nTable.getElementsByTagName("tfoot");y.length>0&&e.nTable.removeChild(y[0])}g=e.nTHead.cloneNode(!0);e.nTable.insertBefore(g,e.nTable.childNodes[0]);if(e.nTFoot!==null){y=e.nTFoot.cloneNode(!0);e.nTable.insertBefore(y,e.nTable.childNodes[1])}var b=_fnGetUniqueThs(g);for(i=0,s=b.length;i<s;i++){p=_fnVisibleToColumnIndex(e,i);b[i].style.width=e.aoColumns[p].sWidth}e.nTFoot!==null&&_fnApplyToChildren(function(e){e.style.width=""},y.getElementsByTagName("tr"));m=$(e.nTable).outerWidth();if(e.oScroll.sX===""){e.nTable.style.width="100%";$.browser.msie&&$.browser.version<=7&&(e.nTable.style.width=_fnStringToCss($(e.nTable).outerWidth()-e.oScroll.iBarWidth))}else if(e.oScroll.sXInner!=="")e.nTable.style.width=_fnStringToCss(e.oScroll.sXInner);else if(m==$(r).width()&&$(r).height()<$(e.nTable).height()){e.nTable.style.width=_fnStringToCss
(m-e.oScroll.iBarWidth);$(e.nTable).outerWidth()>m-e.oScroll.iBarWidth&&(e.nTable.style.width=_fnStringToCss(m))}else e.nTable.style.width=_fnStringToCss(m);m=$(e.nTable).outerWidth();a=e.nTHead.getElementsByTagName("tr");f=g.getElementsByTagName("tr");_fnApplyToChildren(function(e,t){h=e.style;h.paddingTop="0";h.paddingBottom="0";h.borderTopWidth="0";h.borderBottomWidth="0";h.height=0;d=$(e).width();t.style.width=_fnStringToCss(d);v.push(d)},f,a);$(f).height(0);if(e.nTFoot!==null){l=y.getElementsByTagName("tr");c=e.nTFoot.getElementsByTagName("tr");_fnApplyToChildren(function(e,t){h=e.style;h.paddingTop="0";h.paddingBottom="0";h.borderTopWidth="0";h.borderBottomWidth="0";h.height=0;d=$(e).width();t.style.width=_fnStringToCss(d);v.push(d)},l,c);$(l).height(0)}_fnApplyToChildren(function(e){e.innerHTML="";e.style.width=_fnStringToCss(v.shift())},f);e.nTFoot!==null&&_fnApplyToChildren(function(e){e.innerHTML="";e.style.width=_fnStringToCss(v.shift())},l);$(e.nTable).outerWidth()<m&&(e.oScroll.sX===""?_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. It is suggested that you enable x-scrolling or increase the width the table has in which to be drawn"):e.oScroll.sXInner!==""&&_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. It is suggested that you increase the sScrollXInner property to allow it to draw in a larger area, or simply remove that parameter to allow automatic calculation"));e.oScroll.sY===""&&$.browser.msie&&$.browser.version<=7&&(r.style.height=_fnStringToCss(e.nTable.offsetHeight+e.oScroll.iBarWidth));if(e.oScroll.sY!==""&&e.oScroll.bCollapse){r.style.height=_fnStringToCss(e.oScroll.sY);var w=e.oScroll.sX!==""&&e.nTable.offsetWidth>r.offsetWidth?e.oScroll.iBarWidth:0;e.nTable.offsetHeight<r.offsetHeight&&(r.style.height=_fnStringToCss($(e.nTable).height()+w))}var E=$(e.nTable).outerWidth();n.style.width=_fnStringToCss(E);t.style.width=_fnStringToCss(E+e.oScroll.iBarWidth);if(e.nTFoot!==null){var S=e.nScrollFoot.getElementsByTagName("div")[0],x=S.getElementsByTagName("table")[0];S.style.width=_fnStringToCss(e.nTable.offsetWidth+e.oScroll.iBarWidth);x.style.width=_fnStringToCss(e.nTable.offsetWidth)}if(e.bSorted||e.bFiltered)r.scrollTop=0}function _fnAjustColumnSizing(e){if(e.oFeatures.bAutoWidth===!1)return!1;_fnCalculateColumnWidths(e);for(var t=0,n=e.aoColumns.length;t<n;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function _fnFeatureHtmlFilter(e){var t=document.createElement("div");e.sTableId!==""&&typeof e.aanFeatures.f=="undefined"&&t.setAttribute("id",e.sTableId+"_filter");t.className=e.oClasses.sFilter;var n=e.oLanguage.sSearch===""?"":" ";t.innerHTML=e.oLanguage.sSearch+n+'<input type="text" />';var r=$("input",t);r.val(e.oPreviousSearch.sSearch.replace('"',"&quot;"));r.bind("keyup.DT",function(t){var n=e.aanFeatures.f;for(var r=0,i=n.length;r<i;r++)n[r]!=this.parentNode&&$("input",n[r]).val(this.value);this.value!=e.oPreviousSearch.sSearch&&_fnFilterComplete(e,{sSearch:this.value,bRegex:e.oPreviousSearch.bRegex,bSmart:e.oPreviousSearch.bSmart})});r.bind("keypress.DT",function(e){if(e.keyCode==13)return!1});return t}function _fnFilterComplete(e,t,n){_fnFilter(e,t.sSearch,n,t.bRegex,t.bSmart);for(var r=0;r<e.aoPreSearchCols.length;r++)_fnFilterColumn(e,e.aoPreSearchCols[r].sSearch,r,e.aoPreSearchCols[r].bRegex,e.aoPreSearchCols[r].bSmart);_oExt.afnFiltering.length!==0&&_fnFilterCustom(e);e.bFiltered=!0;e._iDisplayStart=0;_fnCalculateEnd(e);_fnDraw(e);_fnBuildSearchArray(e,0)}function _fnFilterCustom(e){var t=_oExt.afnFiltering;for(var n=0,r=t.length;n<r;n++){var i=0;for(var s=0,o=e.aiDisplay.length;s<o;s++){var u=e.aiDisplay[s-i];if(!t[n](e,e.aoData[u]._aData,u)){e.aiDisplay.splice(s-i,1);i++}}}}function _fnFilterColumn(e,t,n,r,i){if(t==="")return;var s=0,o=_fnFilterCreateSearch(t,r,i);for(var u=e.aiDisplay.length-1;u>=0;u--){var a=_fnDataToSearch(e.aoData[e.aiDisplay[u]]._aData[n],e.aoColumns[n].sType);if(!o.test(a)){e.aiDisplay.splice(u,1);s++}}}function _fnFilter(e,t,n,r,i){var s,o=_fnFilterCreateSearch(t,r,i);if(typeof n=="undefined"||n===null)n=0;_oExt.afnFiltering.length!==0&&(n=1);if(t.length<=0){e.aiDisplay.splice(0,e.aiDisplay.length);e.aiDisplay=e.aiDisplayMaster.slice()}else if(e.aiDisplay.length==e.aiDisplayMaster.length||e.oPreviousSearch.sSearch.length>t.length||n==1||t.indexOf(e.oPreviousSearch.sSearch)!==0){e.aiDisplay.splice(0,e.aiDisplay.length);_fnBuildSearchArray(e,1);for(s=0;s<e.aiDisplayMaster.length;s++)o.test(e.asDataSearch[s])&&e.aiDisplay.push(e.aiDisplayMaster[s])}else{var u=0;for(s=0;s<e.asDataSearch.length;s++)if(!o.test(e.asDataSearch[s])){e.aiDisplay.splice(s-u,1);u++}}e.oPreviousSearch.sSearch=t;e.oPreviousSearch.bRegex=r;e.oPreviousSearch.bSmart=i}function _fnBuildSearchArray(e,t){e.asDataSearch.splice(0,e.asDataSearch.length);var n=typeof t!="undefined"&&t==1?e.aiDisplayMaster:e.aiDisplay;for(var r=0,i=n.length;r<i;r++)e.asDataSearch[r]=_fnBuildSearchRow(e,e.aoData[n[r]]._aData)}function _fnBuildSearchRow(e,t){var n="",r=document.createElement("div");for(var i=0,s=e.aoColumns.length;i<s;i++)if(e.aoColumns[i].bSearchable){var o=t[i];n+=_fnDataToSearch(o,e.aoColumns[i].sType)+"  "}if(n.indexOf("&")!==-1){r.innerHTML=n;n=r.textContent?r.textContent:r.innerText;n=n.replace(/\n/g," ").replace(/\r/g,"")}return n}function _fnFilterCreateSearch(e,t,n){var r,i;if(n){r=t?e.split(" "):_fnEscapeRegex(e).split(" ");i="^(?=.*?"+r.join(")(?=.*?")+").*$";return new RegExp(i,"i")}e=t?e:_fnEscapeRegex(e);return new RegExp(e,"i")}function _fnDataToSearch(e,t){return typeof _oExt.ofnSearch[t]=="function"?_oExt.ofnSearch[t](e):t=="html"?e.replace(/\n/g," ").replace(/<.*?>/g,""):typeof e=="string"?e.replace(/\n/g," "):e}function _fnSort(e,t){var n,r,i,s,o,u,a=[],f=[],l=_oExt.oSort,c=e.aoData,h=e.aoColumns;if(!e.oFeatures.bServerSide&&(e.aaSorting.length!==0||e.aaSortingFixed!==null)){e.aaSortingFixed!==null?a=e.aaSortingFixed.concat(e.aaSorting):a=e.aaSorting.slice();for(i=0;i<a.length;i++){var p=a[i][0],d=_fnColumnIndexToVisible(e,p),v=e.aoColumns[p].sSortDataType;if(typeof _oExt.afnSortData[v]!="undefined"){var m=_oExt.afnSortData[v](e,p,d);for(o=0,u=c.length;o<u;o++)c[o]._aData[p]=m[o]}}for(i=0,s=e.aiDisplayMaster.length;i<s;i++)f[e.aiDisplayMaster[i]]=i;var g=a.length;e.aiDisplayMaster.sort(function(e,t){var s;for(i=0;i<g;i++){n=h[a[i][0]].iDataSort;r=h[n].sType;s=l[r+"-"+a[i][1]](c[e]._aData[n],c[t]._aData[n]);if(s!==0)return s}return l["numeric-asc"](f[e],f[t])})}(typeof t=="undefined"||t)&&_fnSortingClasses(e);e.bSorted=!0;if(e.oFeatures.bFilter)_fnFilterComplete(e,e.oPreviousSearch,1);else{e.aiDisplay=e.aiDisplayMaster.slice();e._iDisplayStart=0;_fnCalculateEnd(e);_fnDraw(e)}}function _fnSortAttachListener(e,t,n,r){$(t).bind("click.DT",function(t){if(e.aoColumns[n].bSortable===!1)return;var i=function(){var r,i;if(t.shiftKey){var s=!1;for(var o=0;o<e.aaSorting.length;o++)if(e.aaSorting[o][0]==n){s=!0;r=e.aaSorting[o][0];i=e.aaSorting[o][2]+1;if(typeof e.aoColumns[r].asSorting[i]=="undefined")e.aaSorting.splice(o,1);else{e.aaSorting[o][1]=e.aoColumns[r].asSorting[i];e.aaSorting[o][2]=i}break}s===!1&&e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}else if(e.aaSorting.length==1&&e.aaSorting[0][0]==n){r=e.aaSorting[0][0];i=e.aaSorting[0][2]+1;typeof e.aoColumns[r].asSorting[i]=="undefined"&&(i=0);e.aaSorting[0][1]=e.aoColumns[r].asSorting[i];e.aaSorting[0][2]=i}else{e.aaSorting.splice(0,e.aaSorting.length);e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}_fnSort(e)};if(!e.oFeatures.bProcessing)i();else{_fnProcessingDisplay(e,!0);setTimeout(function(){i();e.oFeatures.bServerSide||_fnProcessingDisplay(e,!1)},0)}typeof r=="function"&&r(e)})}function _fnSortingClasses(e){var t,n,r,i,s,o,u,a=e.aoColumns.length,f=e.oClasses;for(t=0;t<a;t++)e.aoColumns[t].bSortable&&$(e.aoColumns[t].nTh).removeClass(f.sSortAsc+" "+f.sSortDesc+" "+e.aoColumns[t].sSortingClass);e.aaSortingFixed!==null?o=e.aaSortingFixed.concat(e.aaSorting):o=e.aaSorting.slice();for(t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){u=e.aoColumns[t].sSortingClass;s=-1;for(r=0;r<o.length;r++)if(o[r][0]==t){u=o[r][1]=="asc"?f.sSortAsc:f.sSortDesc;s=r;break}$(e.aoColumns[t].nTh).addClass(u);if(e.bJUI){var l=$("span",e.aoColumns[t].nTh);l.removeClass(f.sSortJUIAsc+" "+f.sSortJUIDesc+" "+f.sSortJUI+" "+f.sSortJUIAscAllowed+" "+f.sSortJUIDescAllowed);var c;s==-1?c=e.aoColumns[t].sSortingClassJUI:o[s][1]=="asc"?c=f.sSortJUIAsc:c=f.sSortJUIDesc;l.addClass(c)}}else $(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);u=f.sSortColumn;if(e.oFeatures.bSort&&e.oFeatures.bSortClasses){var h=_fnGetTdNodes(e);if(h.length>=a)for(t=0;t<a;t++)if(h[t].className.indexOf(u+"1")!=-1)for(r=0,i=h.length/a;r<i;r++)h[a*r+t].className=$.trim(h[a*r+t].className.replace(u+"1",""));else if(h[t].className.indexOf(u+"2")!=-1)for(r=0,i=h.length/a;r<i;r++)h[a*r+t].className=$.trim(h[a*r+t].className.replace(u+"2",""));else if(h[t].className.indexOf(u+"3")!=-1)for(r=0,i=h.length/a;r<i;r++)h[a*r+t].className=$.trim(h[a*r+t].className.replace(" "+u+"3",""));var p=1,d;for(t=0;t<o.length;t++){d=parseInt(o[t][0],10);for(r=0,i=h.length/a;r<i;r++)h[a*r+d].className+=" "+u+p;p<3&&p++}}}function _fnFeatureHtmlPaginate(e){if(e.oScroll.bInfinite)return null;var t=document.createElement("div");t.className=e.oClasses.sPaging+e.sPaginationType;_oExt.oPagination[e.sPaginationType].fnInit(e,t,function(e){_fnCalculateEnd(e);_fnDraw(e)});typeof e.aanFeatures.p=="undefined"&&e.aoDrawCallback.push({fn:function(e){_oExt.oPagination[e.sPaginationType].fnUpdate(e,function(e){_fnCalculateEnd(e);_fnDraw(e)})},sName:"pagination"});return t}function _fnPageChange(e,t){var n=e._iDisplayStart;if(t=="first")e._iDisplayStart=0;else if(t=="previous"){e._iDisplayStart=e._iDisplayLength>=0?e._iDisplayStart-e._iDisplayLength:0;e._iDisplayStart<0&&(e._iDisplayStart=0)}else if(t=="next")e._iDisplayLength>=0?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if(t=="last")if(e._iDisplayLength>=0){var r=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(r-1)*e._iDisplayLength}else e._iDisplayStart=0;else _fnLog(e,0,"Unknown paging action: "+t);return n!=e._iDisplayStart}function _fnFeatureHtmlInfo(e){var t=document.createElement("div");t.className=e.oClasses.sInfo;if(typeof e.aanFeatures.i=="undefined"){e.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"});e.sTableId!==""&&t.setAttribute("id",e.sTableId+"_info")}return t}function _fnUpdateInfo(e){if(!e.oFeatures.bInfo||e.aanFeatures.i.length===0)return;var t=e._iDisplayStart+1,n=e.fnDisplayEnd(),r=e.fnRecordsTotal(),i=e.fnRecordsDisplay(),s=e.fnFormatNumber(t),o=e.fnFormatNumber(n),u=e.fnFormatNumber(r),a=e.fnFormatNumber(i),f;e.oScroll.bInfinite&&(s=e.fnFormatNumber(1));e.fnRecordsDisplay()===0&&e.fnRecordsDisplay()==e.fnRecordsTotal()?f=e.oLanguage.sInfoEmpty+e.oLanguage.sInfoPostFix:e.fnRecordsDisplay()===0?f=e.oLanguage.sInfoEmpty+" "+e.oLanguage.sInfoFiltered.replace("_MAX_",u)+e.oLanguage.sInfoPostFix:e.fnRecordsDisplay()==e.fnRecordsTotal()?f=e.oLanguage.sInfo.replace("_START_",s).replace("_END_",o).replace("_TOTAL_",a)+e.oLanguage.sInfoPostFix:f=e.oLanguage.sInfo.replace("_START_",s).replace("_END_",o).replace("_TOTAL_",a)+" "+e.oLanguage.sInfoFiltered.replace("_MAX_",e.fnFormatNumber(e.fnRecordsTotal()))+e.oLanguage.sInfoPostFix;e.oLanguage.fnInfoCallback!==null&&(f=e.oLanguage.fnInfoCallback(e,t,n,r,i,f));var l=e.aanFeatures.i;for(var c=0,h=l.length;c<h;c++)$(l[c]).html(f)}function _fnFeatureHtmlLength(e){if(e.oScroll.bInfinite)return null;var t=e.sTableId===""?"":'name="'+e.sTableId+'_length"',n='<select size="1" '+t+">",r,i;if(e.aLengthMenu.length==2&&typeof e.aLengthMenu[0]=="object"&&typeof e.aLengthMenu[1]=="object")for(r=0,i=e.aLengthMenu[0].length;r<i;r++)n+='<option value="'+e.aLengthMenu[0][r]+'">'+e.aLengthMenu[1][r]+"</option>";else for(r=0,i=e.aLengthMenu.length;r<i;r++)n+='<option value="'+e.aLengthMenu[r]+'">'+e.aLengthMenu[r]+"</option>";n+="</select>";var s=document.createElement("div");e.sTableId!==""&&typeof e.aanFeatures.l=="undefined"&&s.setAttribute("id",e.sTableId+"_length");s.className=e.oClasses.sLength;s.innerHTML=e.oLanguage.sLengthMenu.replace("_MENU_",n);$('select option[value="'+e._iDisplayLength+'"]',s).attr("selected",!0);$("select",s).bind("change.DT",function(t){var n=$(this).val(),s=e.aanFeatures.l;for(r=0,i=s.length;r<i;r++)s[r]!=this.parentNode&&$("select",s[r]).val(n);e._iDisplayLength=parseInt(n,10);_fnCalculateEnd(e);if(e.fnDisplayEnd()==e.fnRecordsDisplay()){e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength;e._iDisplayStart<0&&(e._iDisplayStart=0)}e._iDisplayLength==-1&&(e._iDisplayStart=0);_fnDraw(e)});return s}function _fnFeatureHtmlProcessing(e){var t=document.createElement("div");e.sTableId!==""&&typeof e.aanFeatures.r=="undefined"&&t.setAttribute("id",e.sTableId+"_processing");t.innerHTML=e.oLanguage.sProcessing;t.className=e.oClasses.sProcessing;e.nTable.parentNode.insertBefore(t,e.nTable);return t}function _fnProcessingDisplay(e,t){if(e.oFeatures.bProcessing){var n=e.aanFeatures.r;for(var r=0,i=n.length;r<i;r++)n[r].style.visibility=t?"visible":"hidden"}}function _fnVisibleToColumnIndex(e,t){var n=-1;for(var r=0;r<e.aoColumns.length;r++){e.aoColumns[r].bVisible===!0&&n++;if(n==t)return r}return null}function _fnColumnIndexToVisible(e,t){var n=-1;for(var r=0;r<e.aoColumns.length;r++){e.aoColumns[r].bVisible===!0&&n++;if(r==t)return e.aoColumns[r].bVisible===!0?n:null}return null}function _fnNodeToDataIndex(e,t){var n,r;for(n=e._iDisplayStart,r=e._iDisplayEnd;n<r;n++)if(e.aoData[e.aiDisplay[n]].nTr==t)return e.aiDisplay[n];for(n=0,r=e.aoData.length;n<r;n++)if(e.aoData[n].nTr==t)return n;return null}function _fnVisbleColumns(e){var t=0;for(var n=0;n<e.aoColumns.length;n++)e.aoColumns[n].bVisible===!0&&t++;return t}function _fnCalculateEnd(e){e.oFeatures.bPaginate===!1?e._iDisplayEnd=e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||e._iDisplayLength==-1?e._iDisplayEnd=e.aiDisplay.length:e._iDisplayEnd=e._iDisplayStart+e._iDisplayLength}function _fnConvertToWidth(e,t){if(!e||e===null||e==="")return 0;typeof t=="undefined"&&(t=document.getElementsByTagName("body")[0]);var n,r=document.createElement("div");r.style.width=e;t.appendChild(r);n=r.offsetWidth;t.removeChild(r);return n}function _fnCalculateColumnWidths(e){var t=e.nTable.offsetWidth,n=0,r,i=0,s=e.aoColumns.length,o,u=$("th",e.nTHead);for(o=0;o<s;o++)if(e.aoColumns[o].bVisible){i++;if(e.aoColumns[o].sWidth!==null){r=_fnConvertToWidth(e.aoColumns[o].sWidthOrig,e.nTable.parentNode);r!==null&&(e.aoColumns[o].sWidth=_fnStringToCss(r));n++}}if(s==u.length&&n===0&&i==s&&e.oScroll.sX===""&&e.oScroll.sY==="")for(o=0;o<e.aoColumns.length;o++){r=$(u[o]).width();r!==null&&(e.aoColumns[o].sWidth=_fnStringToCss(r))}else{var a=e.nTable.cloneNode(!1),f=document.createElement("tbody"),l=document.createElement("tr"),c;a.removeAttribute("id");a.appendChild(e.nTHead.cloneNode(!0));if(e.nTFoot!==null){a.appendChild(e.nTFoot.cloneNode(!0));_fnApplyToChildren(function(e){e.style.width=""},a.getElementsByTagName("tr"))}a.appendChild(f);f.appendChild(l);var h=$("thead th",a);h.length===0&&(h=$("tbody tr:eq(0)>td",a));h.each(function(t){this.style.width="";var n=_fnVisibleToColumnIndex(e,t);n!==null&&e.aoColumns[n].sWidthOrig!==""&&(this.style.width=e.aoColumns[n].sWidthOrig)});for(o=0;o<s;o++)if(e.aoColumns[o].bVisible){var p=_fnGetWidestNode(e,o);if(p!==null){p=p.cloneNode(!0);l.appendChild(p)}}var d=e.nTable.parentNode;d.appendChild(a);if(e.oScroll.sX!==""&&e.oScroll.sXInner!=="")a.style.width=_fnStringToCss(e.oScroll.sXInner);else if(e.oScroll.sX!==""){a.style.width="";$(a).width()<d.offsetWidth&&(a.style.width=_fnStringToCss(d.offsetWidth))}else e.oScroll.sY!==""&&(a.style.width=_fnStringToCss(d.offsetWidth));a.style.visibility="hidden";_fnScrollingWidthAdjust(e,a);var v=$("tbody tr:eq(0)>td",a);v.length===0&&(v=$("thead tr:eq(0)>th",a));var m,g=0,y;for(o=0;o<e.aoColumns.length;o++)if(e.aoColumns[o].bVisible){y=$(v[g]).outerWidth();y!==null&&y>0&&(e.aoColumns[o].sWidth=_fnStringToCss(y));g++}e.nTable.style.width=_fnStringToCss($(a).outerWidth());a.parentNode.removeChild(a)}}function _fnScrollingWidthAdjust(e,t){if(e.oScroll.sX===""&&e.oScroll.sY!==""){var n=$(t).width();t.style.width=_fnStringToCss($(t).outerWidth()-e.oScroll.iBarWidth)}else e.oScroll.sX!==""&&(t.style.width=_fnStringToCss($(t).outerWidth()))}function _fnGetWidestNode(e,t,n){if(typeof n=="undefined"||n){var r=_fnGetMaxLenString(e,t),i=_fnColumnIndexToVisible(e,t);return r<0?null:e.aoData[r].nTr.getElementsByTagName("td")[i]}var s=-1,o,u,a=-1,f=document.createElement("div");f.style.visibility="hidden";f.style.position="absolute";document.body.appendChild(f);for(o=0,u=e.aoData.length;o<u;o++){f.innerHTML=e.aoData[o]._aData[t];if(f.offsetWidth>s){s=f.offsetWidth;a=o}}document.body.removeChild(f);if(a>=0){var l=_fnColumnIndexToVisible(e,t),c=e.aoData[a].nTr.getElementsByTagName("td")[l];if(c)return c}return null}function _fnGetMaxLenString(e,t){var n=-1,r=-1;for(var i=0;i<e.aoData.length;i++){var s=e.aoData[i]._aData[t];if(s.length>n){n=s.length;r=i}}return r}function _fnStringToCss(e){if(e===null)return"0px";if(typeof e=="number")return e<0?"0px":e+"px";var t=e.charCodeAt(e.length-1);return t<48||t>57?e:e+"px"}function _fnArrayCmp(e,t){if(e.length!=t.length)return 1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return 2;return 0}function _fnDetectType(e){var t=_oExt.aTypes,n=t.length;for(var r=0;r<n;r++){var i=t[r](e);if(i!==null)return i}return"string"}function _fnSettingsFromNode(e){for(var t=0;t<_aoSettings.length;t++)if(_aoSettings[t].nTable==e)return _aoSettings[t];return null}function _fnGetDataMaster(e){var t=[],n=e.aoData.length;for(var r=0;r<n;r++)t.push(e.aoData[r]._aData);return t}function _fnGetTrNodes(e){var t=[],n=e.aoData.length;for(var r=0;r<n;r++)t.push(e.aoData[r].nTr);return t}function _fnGetTdNodes(e){var t=_fnGetTrNodes(e),n=[],r,i=[],s,o,u,a,f;for(o=0,u=t.length;o<u;o++){n=[];for(a=0,f=t[o].childNodes.length;a<f;a++){r=t[o].childNodes[a];r.nodeName.toUpperCase()=="TD"&&n.push(r)}s=0;for(a=0,f=e.aoColumns.length;a<f;a++)if(e.aoColumns[a].bVisible)i.push(n[a-s]);else{i.push(e.aoData[o]._anHidden[a]);s++}}return i}function _fnEscapeRegex(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"],n=new RegExp("(\\"+t.join("|\\")+")","g");return e.replace(n,"\\$1")}function _fnDeleteIndex(e,t){var n=-1;for(var r=0,i=e.length;r<i;r++)e[r]==t?n=r:e[r]>t&&e[r]--;n!=-1&&e.splice(n,1)}function _fnReOrderIndex(e,t){var n=t.split(","),r=[];for(var i=0,s=e.aoColumns.length;i<s;i++)for(var o=0;o<s;o++)if(e.aoColumns[i].sName==n[o]){r.push(o);break}return r}function _fnColumnOrdering(e){var t="";for(var n=0,r=e.aoColumns.length;n<r;n++)t+=e.aoColumns[n].sName+",";return t.length==r?"":t.slice(0,-1)}function _fnLog(e,t,n){var r=e.sTableId===""?"DataTables warning: "+n:"DataTables warning (table id = '"+e.sTableId+"'): "+n;if(t===0){if(_oExt.sErrMode!="alert")throw r;alert(r);return}typeof console!="undefined"&&typeof console.log!="undefined"&&console.log(r)}function _fnClearTable(e){e.aoData.splice(0,e.aoData.length);e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length);e.aiDisplay.splice(0,e.aiDisplay.length);_fnCalculateEnd(e)}function _fnSaveState(e){if(!e.oFeatures.bStateSave||typeof e.bDestroying!="undefined")return;var t,n,r,i="{";i+='"iCreate":'+(new Date).getTime()+",";i+='"iStart":'+e._iDisplayStart+",";i+='"iEnd":'+e._iDisplayEnd+",";i+='"iLength":'+e._iDisplayLength+",";i+='"sFilter":"'+encodeURIComponent(e.oPreviousSearch.sSearch)+'",';i+='"sFilterEsc":'+!e.oPreviousSearch.bRegex+",";i+='"aaSorting":[ ';for(t=0;t<e.aaSorting.length;t++)i+="["+e.aaSorting[t][0]+',"'+e.aaSorting[t][1]+'"],';i=i.substring(0,i.length-1);i+="],";i+='"aaSearchCols":[ ';for(t=0;t<e.aoPreSearchCols.length;t++)i+='["'+encodeURIComponent(e.aoPreSearchCols[t].sSearch)+'",'+!e.aoPreSearchCols[t].bRegex+"],";i=i.substring(0,i.length-1);i+="],";i+='"abVisCols":[ ';for(t=0;t<e.aoColumns.length;t++)i+=e.aoColumns[t].bVisible+",";i=i.substring(0,i.length-1);i+="]";for(t=0,n=e.aoStateSave.length;t<n;t++){r=e.aoStateSave[t].fn(e,i);r!==""&&(i=r)}i+="}";_fnCreateCookie(e.sCookiePrefix+e.sInstance,i,e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)}function _fnLoadState(oSettings,oInit){if(!oSettings.oFeatures.bStateSave)return;var oData,i,iLen,sData=_fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance);if(sData!==null&&sData!==""){try{oData=typeof $.parseJSON=="function"?$.parseJSON(sData.replace(/'/g,'"')):eval("("+sData+")")}catch(e){return}for(i=0,iLen=oSettings.aoStateLoad.length;i<iLen;i++)if(!oSettings.aoStateLoad[i].fn(oSettings,oData))return;oSettings.oLoadedState=$.extend(!0,{},oData);oSettings._iDisplayStart=oData.iStart;oSettings.iInitDisplayStart=oData.iStart;oSettings._iDisplayEnd=oData.iEnd;oSettings._iDisplayLength=oData.iLength;oSettings.oPreviousSearch.sSearch=decodeURIComponent(oData.sFilter);oSettings.aaSorting=oData.aaSorting.slice();oSettings.saved_aaSorting=oData.aaSorting.slice();typeof oData.sFilterEsc!="undefined"&&(oSettings.oPreviousSearch.bRegex=!oData.sFilterEsc);if(typeof oData.aaSearchCols!="undefined")for(i=0;i<oData.aaSearchCols.length;i++)oSettings.aoPreSearchCols[i]={sSearch:decodeURIComponent(oData.aaSearchCols[i][0]),bRegex:!oData.aaSearchCols[i][1]};if(typeof oData.abVisCols!="undefined"){oInit.saved_aoColumns=[];for(i=0;i<oData.abVisCols.length;i++){oInit.saved_aoColumns[i]={};oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i]}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+iSecs*1e3);var aParts=window.location.pathname.split("/"),sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase(),sFullCookie,oData;if(fnCallback!==null){oData=typeof $.parseJSON=="function"?$.parseJSON(sValue):eval("("+sValue+")");sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")}else sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";var sOldName="",iOldTime=9999999999999,iLength=_fnReadCookie(sNameFile)!==null?document.cookie.length:sFullCookie.length+document.cookie.length;if(iLength+10>4096){var aCookies=document.cookie.split(";");for(var i=0,iLen=aCookies.length;i<iLen;i++)if(aCookies[i].indexOf(sBaseName)!=-1){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")")}catch(e){continue}if(typeof oData.iCreate!="undefined"&&oData.iCreate<iOldTime){sOldName=aSplitCookie[0];iOldTime=oData.iCreate}}sOldName!==""&&(document.cookie=sOldName+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/")}document.cookie=sFullCookie}function _fnReadCookie(e){var t=window.location.pathname.split("/"),n=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",r=document.cookie.split(";");for(var i=0;i<r.length;i++){var s=r[i];while(s.charAt(0)==" ")s=s.substring(1,s.length);if(s.indexOf(n)===0)return decodeURIComponent(s.substring(n.length,s.length))}return null}function _fnGetUniqueThs(e){var t=e.getElementsByTagName("tr");if(t.length==1)return t[0].getElementsByTagName("th");var n=[],r=[],i=2,s=3,o=4,u,a,f,l,c,h,p=function(e,t,n){while(typeof e[t][n]!="undefined")n++;return n},d=function(e){typeof n[e]=="undefined"&&(n[e]=[])};for(u=0,l=t.length;u<l;u++){d(u);var v=0,m=[];for(a=0,c=t[u].childNodes.length;a<c;a++)(t[u].childNodes[a].nodeName.toUpperCase()=="TD"||t[u].childNodes[a].nodeName.toUpperCase()=="TH")&&m.push(t[u].childNodes[a]);for(a=0,c=m.length;a<c;a++){var g=m[a].getAttribute("colspan")*1,y=m[a].getAttribute("rowspan")*1;if(!g||g===0||g===1){h=p(n,u,v);n[u][h]=m[a].nodeName.toUpperCase()=="TD"?o:m[a];if(y||y===0||y===1)for(f=1;f<y;f++){d(u+f);n[u+f][h]=i}v++}else{h=p(n,u,v);for(f=0;f<g;f++)n[u][h+f]=s;v+=g}}}for(u=0,l=n.length;u<l;u++)for(a=0,c=n[u].length;a<c;a++)typeof n[u][a]=="object"&&typeof r[a]=="undefined"&&(r[a]=n[u][a]);return r}function _fnScrollBarWidth(){var e=document.createElement("p"),t=e.style;t.width="100%";t.height="200px";var n=document.createElement("div");t=n.style;t.position="absolute";t.top="0px";t.left="0px";t.visibility="hidden";t.width="200px";t.height="150px";t.overflow="hidden";n.appendChild(e);document.body.appendChild(n);var r=e.offsetWidth;n.style.overflow="scroll";var i=e.offsetWidth;r==i&&(i=n.clientWidth);document.body.removeChild(n);return r-i}function _fnApplyToChildren(e,t,n){for(var r=0,i=t.length;r<i;r++)for(var s=0,o=t[r].childNodes.length;s<o;s++)t[r].childNodes[s].nodeType==1&&(typeof n!="undefined"?e(t[r].childNodes[s],n[r].childNodes[s]):e(t[r].childNodes[s]))}function _fnMap(e,t,n,r){typeof r=="undefined"&&(r=n);typeof t[n]!="undefined"&&(e[r]=t[n])}this.oApi={};this.fnDraw=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof e!="undefined"&&e===!1){_fnCalculateEnd(t);_fnDraw(t)}else _fnReDraw(t)};this.fnFilter=function(e,t,n,r,i){var s=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(!s.oFeatures.bFilter)return;typeof n=="undefined"&&(n=!1);typeof r=="undefined"&&(r=!0);typeof i=="undefined"&&(i=!0);if(typeof t=="undefined"||t===null){_fnFilterComplete(s,{sSearch:e,bRegex:n,bSmart:r},1);if(i&&typeof s.aanFeatures.f!="undefined"){var o=s.aanFeatures.f;for(var u=0,a=o.length;u<a;u++)$("input",o[u]).val(e)}}else{s.aoPreSearchCols[t].sSearch=e;s.aoPreSearchCols[t].bRegex=n;s.aoPreSearchCols[t].bSmart=r;_fnFilterComplete(s,s.oPreviousSearch,1)}};this.fnSettings=function(e){return _fnSettingsFromNode(this[_oExt.iApiIndex])};this.fnVersionCheck=_oExt.fnVersionCheck;this.fnSort=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);t.aaSorting=e;_fnSort(t)};this.fnSortListener=function(e,t,n){_fnSortAttachListener(_fnSettingsFromNode(this[_oExt.iApiIndex]),e,t,n)};this.fnAddData=function(e,t){if(e.length===0)return[];var n=[],r,i=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof e[0]=="object")for(var s=0;s<e.length;s++){r=_fnAddData(i,e[s]);if(r==-1)return n;n.push(r)}else{r=_fnAddData(i,e);if(r==-1)return n;n.push(r)}i.aiDisplay=i.aiDisplayMaster.slice();(typeof t=="undefined"||t)&&_fnReDraw(i);return n};this.fnDeleteRow=function(e,t,n){var r=_fnSettingsFromNode(this[_oExt.iApiIndex]),i,s;s=typeof e=="object"?_fnNodeToDataIndex(r,e):e;var o=r.aoData.splice(s,1),u=$.inArray(s,r.aiDisplay);r.asDataSearch.splice(u,1);_fnDeleteIndex(r.aiDisplayMaster,s);_fnDeleteIndex(r.aiDisplay,s);typeof t=="function"&&t.call(this,r,o);if(r._iDisplayStart>=r.aiDisplay.length){r._iDisplayStart-=r._iDisplayLength;r._iDisplayStart<0&&(r._iDisplayStart=0)}if(typeof n=="undefined"||n){_fnCalculateEnd(r);_fnDraw(r)}return o};this.fnClearTable=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnClearTable(t);(typeof e=="undefined"||e)&&_fnDraw(t)};this.fnOpen=function(e,t,n){var r=_fnSettingsFromNode(this[_oExt.iApiIndex]);this.fnClose(e);var i=document.createElement("tr"),s=document.createElement("td");i.appendChild(s);s.className=n;s.colSpan=_fnVisbleColumns(r);s.innerHTML=t;var o=$("tr",r.nTBody);$.inArray(e,o)!=-1&&$(i).insertAfter(e);r.aoOpenRows.push({nTr:i,nParent:e});return i};this.fnClose=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);for(var n=0;n<t.aoOpenRows.length;n++)if(t.aoOpenRows[n].nParent==e){var r=t.aoOpenRows[n].nTr.parentNode;r&&r.removeChild(t.aoOpenRows[n].nTr);t.aoOpenRows.splice(n,1);return 0}return 1};this.fnGetData=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof e!="undefined"){var n=typeof e=="object"?_fnNodeToDataIndex(t,e):e;return(aRowData=t.aoData[n])?aRowData._aData:null}return _fnGetDataMaster(t)};this.fnGetNodes=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);return typeof e!="undefined"?(aRowData=t.aoData[e])?aRowData.nTr:null:_fnGetTrNodes(t)};this.fnGetPosition=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]),n;if(e.nodeName.toUpperCase()=="TR")return _fnNodeToDataIndex(t,e);if(e.nodeName.toUpperCase()=="TD"){var r=_fnNodeToDataIndex(t,e.parentNode),i=0;for(var s=0;s<t.aoColumns.length;s++)if(t.aoColumns[s].bVisible){if(t.aoData[r].nTr.getElementsByTagName("td")[s-i]==e)return[r,s-i,s]}else i++}return null};this.fnUpdate=function(e,t,n,r,i){var s=_fnSettingsFromNode(this[_oExt.iApiIndex]),o,u,a=typeof t=="object"?_fnNodeToDataIndex(s,t):t;if(typeof e!="object"){u=e;s.aoData[a]._aData[n]=u;if(s.aoColumns[n].fnRender!==null){u=s.aoColumns[n].fnRender({iDataRow:a,iDataColumn:n,aData:s.aoData[a]._aData,oSettings:s});s.aoColumns[n].bUseRendered&&(s.aoData[a]._aData[n]=u)}o=_fnColumnIndexToVisible(s,n);o!==null?s.aoData[a].nTr.getElementsByTagName("td")[o].innerHTML=u:s.aoData[a]._anHidden[n].innerHTML=u}else{if(e.length!=s.aoColumns.length){_fnLog(s,0,"An array passed to fnUpdate must have the same number of columns as the table in question - in this case "+s.aoColumns.length);return 1}for(var f=0;f<e.length;f++){u=e[f];s.aoData[a]._aData[f]=u;if(s.aoColumns[f].fnRender!==null){u=s.aoColumns[f].fnRender({iDataRow:a,iDataColumn:f,aData:s.aoData[a]._aData,oSettings:s});s.aoColumns[f].bUseRendered&&(s.aoData[a]._aData[f]=u)}o=_fnColumnIndexToVisible(s,f);o!==null?s.aoData[a].nTr.getElementsByTagName("td")[o].innerHTML=u:s.aoData[a]._anHidden[f].innerHTML=u}}var l=$.inArray(a,s.aiDisplay);s.asDataSearch[l]=_fnBuildSearchRow(s,s.aoData[a]._aData);(typeof i=="undefined"||i)&&_fnAjustColumnSizing(s);(typeof r=="undefined"||r)&&_fnReDraw(s);return 0};this.fnSetColumnVis=function(e,t,n){var r=_fnSettingsFromNode(this[_oExt.iApiIndex]),i,s,o=r.aoColumns.length,u,a,f,l,c;if(r.aoColumns[e].bVisible==t)return;var h=$(">tr",r.nTHead)[0],p=$(">tr",r.nTFoot)[0],d=[],v=[];for(i=0;i<o;i++){d.push(r.aoColumns[i].nTh);v.push(r.aoColumns[i].nTf)}if(t){var m=0;for(i=0;i<e;i++)r.aoColumns[i].bVisible&&m++;if(m>=_fnVisbleColumns(r)){h.appendChild(d[e]);l=$(">tr",r.nTHead);for(i=1,s=l.length;i<s;i++)l[i].appendChild(r.aoColumns[e].anThExtra[i-1]);if(p){p.appendChild(v[e]);l=$(">tr",r.nTFoot);for(i=1,s=l.length;i<s;i++)l[i].appendChild(r.aoColumns[e].anTfExtra[i-1])}for(i=0,s=r.aoData.length;i<s;i++){u=r.aoData[i]._anHidden[e];r.aoData[i].nTr.appendChild(u)}}else{var g;for(i=e;i<o;i++){g=_fnColumnIndexToVisible(r,i);if(g!==null)break}h.insertBefore(d[e],h.getElementsByTagName("th")[g]);l=$(">tr",r.nTHead);for(i=1,s=l.length;i<s;i++){c=$(l[i]).children();l[i].insertBefore(r.aoColumns[e].anThExtra[i-1],c[g])}if(p){p.insertBefore(v[e],p.getElementsByTagName("th")[g]);l=$(">tr",r.nTFoot);for(i=1,s=l.length;i<s;i++){c=$(l[i]).children();l[i].insertBefore(r.aoColumns[e].anTfExtra[i-1],c[g])}}a=_fnGetTdNodes(r);for(i=0,s=r.aoData.length;i<s;i++){u=r.aoData[i]._anHidden[e];r.aoData[i].nTr.insertBefore(u,$(">td:eq("+g+")",r.aoData[i].nTr)[0])}}r.aoColumns[e].bVisible=!0}else{h.removeChild(d[e]);for(i=0,s=r.aoColumns[e].anThExtra.length;i<s;i++){f=r.aoColumns[e].anThExtra[i];f.parentNode.removeChild(f)}if(p){p.removeChild(v[e]);for(i=0,s=r.aoColumns[e].anTfExtra.length;i<s;i++){f=r.aoColumns[e].anTfExtra[i];f.parentNode.removeChild(f)}}a=_fnGetTdNodes(r);for(i=0,s=r.aoData.length;i<s;i++){u=a[i*r.aoColumns.length+e*1];r.aoData[i]._anHidden[e]=u;u.parentNode.removeChild(u)}r.aoColumns[e].bVisible=!1}for(i=0,s=r.aoOpenRows.length;i<s;i++)r.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(r);if(typeof n=="undefined"||n){_fnAjustColumnSizing(r);_fnDraw(r)}_fnSaveState(r)};this.fnPageChange=function(e,t){var n=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnPageChange(n,e);_fnCalculateEnd(n);(typeof t=="undefined"||t)&&_fnDraw(n)};this.fnDestroy=function(){var e=_fnSettingsFromNode(this[_oExt.iApiIndex]),t=e.nTableWrapper.parentNode,n=e.nTBody,r,i;e.bDestroying=!0;$(e.nTableWrapper).find("*").andSelf().unbind(".DT");for(r=0,i=e.aoColumns.length;r<i;r++)e.aoColumns[r].bVisible===!1&&this.fnSetColumnVis(r,!0);$("tbody>tr>td."+e.oClasses.sRowEmpty,e.nTable).parent().remove();if(e.nTable!=e.nTHead.parentNode){$(">thead",e.nTable).remove();e.nTable.appendChild(e.nTHead)}if(e.nTFoot&&e.nTable!=e.nTFoot.parentNode){$(">tfoot",e.nTable).remove();e.nTable.appendChild(e.nTFoot)}e.nTable.parentNode.removeChild(e.nTable);$(e.nTableWrapper).remove();e.aaSorting=[];e.aaSortingFixed=[];_fnSortingClasses(e);$(_fnGetTrNodes(e)).removeClass(e.asStripClasses.join(" "));if(!e.bJUI)$("th",e.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oStdClasses.sSortableAsc,_oExt.oStdClasses.sSortableDesc,_oExt.oStdClasses.sSortableNone].join(" "));else{$("th",e.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oJUIClasses.sSortableAsc,_oExt.oJUIClasses.sSortableDesc,_oExt.oJUIClasses.sSortableNone].join(" "));$("th span",e.nTHead).remove()}t.appendChild
(e.nTable);for(r=0,i=e.aoData.length;r<i;r++)n.appendChild(e.aoData[r].nTr);e.nTable.style.width=_fnStringToCss(e.sDestroyWidth);$(">tr:even",n).addClass(e.asDestoryStrips[0]);$(">tr:odd",n).addClass(e.asDestoryStrips[1]);for(r=0,i=_aoSettings.length;r<i;r++)_aoSettings[r]==e&&_aoSettings.splice(r,1);e=null};this.fnAdjustColumnSizing=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnAjustColumnSizing(t);typeof e=="undefined"||e?this.fnDraw(!1):(t.oScroll.sX!==""||t.oScroll.sY!=="")&&this.oApi._fnScrollDraw(t)};for(var sFunc in _oExt.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));this.oApi._fnExternApiFunc=_fnExternApiFunc;this.oApi._fnInitalise=_fnInitalise;this.oApi._fnLanguageProcess=_fnLanguageProcess;this.oApi._fnAddColumn=_fnAddColumn;this.oApi._fnColumnOptions=_fnColumnOptions;this.oApi._fnAddData=_fnAddData;this.oApi._fnGatherData=_fnGatherData;this.oApi._fnDrawHead=_fnDrawHead;this.oApi._fnDraw=_fnDraw;this.oApi._fnReDraw=_fnReDraw;this.oApi._fnAjaxUpdate=_fnAjaxUpdate;this.oApi._fnAjaxUpdateDraw=_fnAjaxUpdateDraw;this.oApi._fnAddOptionsHtml=_fnAddOptionsHtml;this.oApi._fnFeatureHtmlTable=_fnFeatureHtmlTable;this.oApi._fnScrollDraw=_fnScrollDraw;this.oApi._fnAjustColumnSizing=_fnAjustColumnSizing;this.oApi._fnFeatureHtmlFilter=_fnFeatureHtmlFilter;this.oApi._fnFilterComplete=_fnFilterComplete;this.oApi._fnFilterCustom=_fnFilterCustom;this.oApi._fnFilterColumn=_fnFilterColumn;this.oApi._fnFilter=_fnFilter;this.oApi._fnBuildSearchArray=_fnBuildSearchArray;this.oApi._fnBuildSearchRow=_fnBuildSearchRow;this.oApi._fnFilterCreateSearch=_fnFilterCreateSearch;this.oApi._fnDataToSearch=_fnDataToSearch;this.oApi._fnSort=_fnSort;this.oApi._fnSortAttachListener=_fnSortAttachListener;this.oApi._fnSortingClasses=_fnSortingClasses;this.oApi._fnFeatureHtmlPaginate=_fnFeatureHtmlPaginate;this.oApi._fnPageChange=_fnPageChange;this.oApi._fnFeatureHtmlInfo=_fnFeatureHtmlInfo;this.oApi._fnUpdateInfo=_fnUpdateInfo;this.oApi._fnFeatureHtmlLength=_fnFeatureHtmlLength;this.oApi._fnFeatureHtmlProcessing=_fnFeatureHtmlProcessing;this.oApi._fnProcessingDisplay=_fnProcessingDisplay;this.oApi._fnVisibleToColumnIndex=_fnVisibleToColumnIndex;this.oApi._fnColumnIndexToVisible=_fnColumnIndexToVisible;this.oApi._fnNodeToDataIndex=_fnNodeToDataIndex;this.oApi._fnVisbleColumns=_fnVisbleColumns;this.oApi._fnCalculateEnd=_fnCalculateEnd;this.oApi._fnConvertToWidth=_fnConvertToWidth;this.oApi._fnCalculateColumnWidths=_fnCalculateColumnWidths;this.oApi._fnScrollingWidthAdjust=_fnScrollingWidthAdjust;this.oApi._fnGetWidestNode=_fnGetWidestNode;this.oApi._fnGetMaxLenString=_fnGetMaxLenString;this.oApi._fnStringToCss=_fnStringToCss;this.oApi._fnArrayCmp=_fnArrayCmp;this.oApi._fnDetectType=_fnDetectType;this.oApi._fnSettingsFromNode=_fnSettingsFromNode;this.oApi._fnGetDataMaster=_fnGetDataMaster;this.oApi._fnGetTrNodes=_fnGetTrNodes;this.oApi._fnGetTdNodes=_fnGetTdNodes;this.oApi._fnEscapeRegex=_fnEscapeRegex;this.oApi._fnDeleteIndex=_fnDeleteIndex;this.oApi._fnReOrderIndex=_fnReOrderIndex;this.oApi._fnColumnOrdering=_fnColumnOrdering;this.oApi._fnLog=_fnLog;this.oApi._fnClearTable=_fnClearTable;this.oApi._fnSaveState=_fnSaveState;this.oApi._fnLoadState=_fnLoadState;this.oApi._fnCreateCookie=_fnCreateCookie;this.oApi._fnReadCookie=_fnReadCookie;this.oApi._fnGetUniqueThs=_fnGetUniqueThs;this.oApi._fnScrollBarWidth=_fnScrollBarWidth;this.oApi._fnApplyToChildren=_fnApplyToChildren;this.oApi._fnMap=_fnMap;var _that=this;return this.each(function(){var e=0,t,n,r,i,s;for(e=0,t=_aoSettings.length;e<t;e++){if(_aoSettings[e].nTable==this){if(typeof oInit=="undefined"||typeof oInit.bRetrieve!="undefined"&&oInit.bRetrieve===!0)return _aoSettings[e].oInstance;if(typeof oInit.bDestroy!="undefined"&&oInit.bDestroy===!0){_aoSettings[e].oInstance.fnDestroy();break}_fnLog(_aoSettings[e],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");return}if(_aoSettings[e].sTableId!==""&&_aoSettings[e].sTableId==this.getAttribute("id")){_aoSettings.splice(e,1);break}}var o=new classSettings;_aoSettings.push(o);var u=!1,a=!1,f=this.getAttribute("id");if(f!==null){o.sTableId=f;o.sInstance=f}else o.sInstance=_oExt._oExternConfig.iNextUnique++;if(this.nodeName.toLowerCase()!="table"){_fnLog(o,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);return}o.nTable=this;o.oInstance=_that.length==1?_that:$(this).dataTable();o.oApi=_that.oApi;o.sDestroyWidth=$(this).width();if(typeof oInit!="undefined"&&oInit!==null){o.oInit=oInit;_fnMap(o.oFeatures,oInit,"bPaginate");_fnMap(o.oFeatures,oInit,"bLengthChange");_fnMap(o.oFeatures,oInit,"bFilter");_fnMap(o.oFeatures,oInit,"bSort");_fnMap(o.oFeatures,oInit,"bInfo");_fnMap(o.oFeatures,oInit,"bProcessing");_fnMap(o.oFeatures,oInit,"bAutoWidth");_fnMap(o.oFeatures,oInit,"bSortClasses");_fnMap(o.oFeatures,oInit,"bServerSide");_fnMap(o.oScroll,oInit,"sScrollX","sX");_fnMap(o.oScroll,oInit,"sScrollXInner","sXInner");_fnMap(o.oScroll,oInit,"sScrollY","sY");_fnMap(o.oScroll,oInit,"bScrollCollapse","bCollapse");_fnMap(o.oScroll,oInit,"bScrollInfinite","bInfinite");_fnMap(o.oScroll,oInit,"iScrollLoadGap","iLoadGap");_fnMap(o.oScroll,oInit,"bScrollAutoCss","bAutoCss");_fnMap(o,oInit,"asStripClasses");_fnMap(o,oInit,"fnRowCallback");_fnMap(o,oInit,"fnHeaderCallback");_fnMap(o,oInit,"fnFooterCallback");_fnMap(o,oInit,"fnCookieCallback");_fnMap(o,oInit,"fnInitComplete");_fnMap(o,oInit,"fnServerData");_fnMap(o,oInit,"fnFormatNumber");_fnMap(o,oInit,"aaSorting");_fnMap(o,oInit,"aaSortingFixed");_fnMap(o,oInit,"aLengthMenu");_fnMap(o,oInit,"sPaginationType");_fnMap(o,oInit,"sAjaxSource");_fnMap(o,oInit,"iCookieDuration");_fnMap(o,oInit,"sCookiePrefix");_fnMap(o,oInit,"sDom");_fnMap(o,oInit,"oSearch","oPreviousSearch");_fnMap(o,oInit,"aoSearchCols","aoPreSearchCols");_fnMap(o,oInit,"iDisplayLength","_iDisplayLength");_fnMap(o,oInit,"bJQueryUI","bJUI");_fnMap(o.oLanguage,oInit,"fnInfoCallback");typeof oInit.fnDrawCallback=="function"&&o.aoDrawCallback.push({fn:oInit.fnDrawCallback,sName:"user"});typeof oInit.fnStateSaveCallback=="function"&&o.aoStateSave.push({fn:oInit.fnStateSaveCallback,sName:"user"});typeof oInit.fnStateLoadCallback=="function"&&o.aoStateLoad.push({fn:oInit.fnStateLoadCallback,sName:"user"});o.oFeatures.bServerSide&&o.oFeatures.bSort&&o.oFeatures.bSortClasses&&o.aoDrawCallback.push({fn:_fnSortingClasses,sName:"server_side_sort_classes"});if(typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI){o.oClasses=_oExt.oJUIClasses;typeof oInit.sDom=="undefined"&&(o.sDom='<"H"lfr>t<"F"ip>')}if(o.oScroll.sX!==""||o.oScroll.sY!=="")o.oScroll.iBarWidth=_fnScrollBarWidth();if(typeof oInit.iDisplayStart!="undefined"&&typeof o.iInitDisplayStart=="undefined"){o.iInitDisplayStart=oInit.iDisplayStart;o._iDisplayStart=oInit.iDisplayStart}if(typeof oInit.bStateSave!="undefined"){o.oFeatures.bStateSave=oInit.bStateSave;_fnLoadState(o,oInit);o.aoDrawCallback.push({fn:_fnSaveState,sName:"state_save"})}typeof oInit.aaData!="undefined"&&(a=!0);typeof oInit!="undefined"&&typeof oInit.aoData!="undefined"&&(oInit.aoColumns=oInit.aoData);if(typeof oInit.oLanguage!="undefined")if(typeof oInit.oLanguage.sUrl!="undefined"&&oInit.oLanguage.sUrl!==""){o.oLanguage.sUrl=oInit.oLanguage.sUrl;$.getJSON(o.oLanguage.sUrl,null,function(e){_fnLanguageProcess(o,e,!0)});u=!0}else _fnLanguageProcess(o,oInit.oLanguage,!1)}else oInit={};if(typeof oInit.asStripClasses=="undefined"){o.asStripClasses.push(o.oClasses.sStripOdd);o.asStripClasses.push(o.oClasses.sStripEven)}var l=!1,c=$(">tbody>tr",this);for(e=0,t=o.asStripClasses.length;e<t;e++)if(c.filter(":lt(2)").hasClass(o.asStripClasses[e])){l=!0;break}if(l){o.asDestoryStrips=["",""];$(c[0]).hasClass(o.oClasses.sStripOdd)&&(o.asDestoryStrips[0]+=o.oClasses.sStripOdd+" ");$(c[0]).hasClass(o.oClasses.sStripEven)&&(o.asDestoryStrips[0]+=o.oClasses.sStripEven);$(c[1]).hasClass(o.oClasses.sStripOdd)&&(o.asDestoryStrips[1]+=o.oClasses.sStripOdd+" ");$(c[1]).hasClass(o.oClasses.sStripEven)&&(o.asDestoryStrips[1]+=o.oClasses.sStripEven);c.removeClass(o.asStripClasses.join(" "))}var h=this.getElementsByTagName("thead"),p=h.length===0?[]:_fnGetUniqueThs(h[0]),d;if(typeof oInit.aoColumns=="undefined"){d=[];for(e=0,t=p.length;e<t;e++)d.push(null)}else d=oInit.aoColumns;for(e=0,t=d.length;e<t;e++){if(typeof oInit.saved_aoColumns!="undefined"&&oInit.saved_aoColumns.length==t){d[e]===null&&(d[e]={});d[e].bVisible=oInit.saved_aoColumns[e].bVisible}_fnAddColumn(o,p?p[e]:null)}if(typeof oInit.aoColumnDefs!="undefined")for(e=oInit.aoColumnDefs.length-1;e>=0;e--){var v=oInit.aoColumnDefs[e].aTargets;$.isArray(v)||_fnLog(o,1,"aTargets must be an array of targets, not a "+typeof v);for(n=0,r=v.length;n<r;n++)if(typeof v[n]=="number"&&v[n]>=0){while(o.aoColumns.length<=v[n])_fnAddColumn(o);_fnColumnOptions(o,v[n],oInit.aoColumnDefs[e])}else if(typeof v[n]=="number"&&v[n]<0)_fnColumnOptions(o,o.aoColumns.length+v[n],oInit.aoColumnDefs[e]);else if(typeof v[n]=="string")for(i=0,s=o.aoColumns.length;i<s;i++)(v[n]=="_all"||o.aoColumns[i].nTh.className.indexOf(v[n])!=-1)&&_fnColumnOptions(o,i,oInit.aoColumnDefs[e])}if(typeof d!="undefined")for(e=0,t=d.length;e<t;e++)_fnColumnOptions(o,e,d[e]);for(e=0,t=o.aaSorting.length;e<t;e++){o.aaSorting[e][0]>=o.aoColumns.length&&(o.aaSorting[e][0]=0);var m=o.aoColumns[o.aaSorting[e][0]];typeof o.aaSorting[e][2]=="undefined"&&(o.aaSorting[e][2]=0);typeof oInit.aaSorting=="undefined"&&typeof o.saved_aaSorting=="undefined"&&(o.aaSorting[e][1]=m.asSorting[0]);for(n=0,r=m.asSorting.length;n<r;n++)if(o.aaSorting[e][1]==m.asSorting[n]){o.aaSorting[e][2]=n;break}}_fnSortingClasses(o);this.getElementsByTagName("thead").length===0&&this.appendChild(document.createElement("thead"));this.getElementsByTagName("tbody").length===0&&this.appendChild(document.createElement("tbody"));o.nTHead=this.getElementsByTagName("thead")[0];o.nTBody=this.getElementsByTagName("tbody")[0];this.getElementsByTagName("tfoot").length>0&&(o.nTFoot=this.getElementsByTagName("tfoot")[0]);if(a)for(e=0;e<oInit.aaData.length;e++)_fnAddData(o,oInit.aaData[e]);else _fnGatherData(o);o.aiDisplay=o.aiDisplayMaster.slice();o.bInitialised=!0;u===!1&&_fnInitalise(o)})}})(jQuery,window,document);(function(e){e.color={};e.color.make=function(t,n,r,i){var s={};s.r=t||0;s.g=n||0;s.b=r||0;s.a=i!=null?i:1;s.add=function(e,t){for(var n=0;n<e.length;++n)s[e.charAt(n)]+=t;return s.normalize()};s.scale=function(e,t){for(var n=0;n<e.length;++n)s[e.charAt(n)]*=t;return s.normalize()};s.toString=function(){return s.a>=1?"rgb("+[s.r,s.g,s.b].join(",")+")":"rgba("+[s.r,s.g,s.b,s.a].join(",")+")"};s.normalize=function(){function e(e,t,n){return t<e?e:t>n?n:t}s.r=e(0,parseInt(s.r),255);s.g=e(0,parseInt(s.g),255);s.b=e(0,parseInt(s.b),255);s.a=e(0,s.a,1);return s};s.clone=function(){return e.color.make(s.r,s.b,s.g,s.a)};return s.normalize()};e.color.extract=function(t,n){var r;do{r=t.css(n).toLowerCase();if(r!=""&&r!="transparent")break;t=t.parent()}while(!e.nodeName(t.get(0),"body"));r=="rgba(0, 0, 0, 0)"&&(r="transparent");return e.color.parse(r)};e.color.parse=function(n){var r,i=e.color.make;if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10));if(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4]));if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55);if(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,parseFloat(r[4]));if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return i(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16));if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return i(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16));var s=e.trim(n).toLowerCase();if(s=="transparent")return i(255,255,255,0);r=t[s]||[0,0,0];return i(r[0],r[1],r[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(e){function t(t,r,s,o){function x(e,t){t=[S].concat(t);for(var n=0;n<e.length;++n)e[n].apply(this,t)}function T(){for(var t=0;t<o.length;++t){var n=o[t];n.init(S);n.options&&e.extend(!0,a,n.options)}}function N(t){var n;e.extend(!0,a,t);a.xaxis.color==null&&(a.xaxis.color=a.grid.color);a.yaxis.color==null&&(a.yaxis.color=a.grid.color);a.xaxis.tickColor==null&&(a.xaxis.tickColor=a.grid.tickColor);a.yaxis.tickColor==null&&(a.yaxis.tickColor=a.grid.tickColor);a.grid.borderColor==null&&(a.grid.borderColor=a.grid.color);a.grid.tickColor==null&&(a.grid.tickColor=e.color.parse(a.grid.color).scale("a",.22).toString());for(n=0;n<Math.max(1,a.xaxes.length);++n)a.xaxes[n]=e.extend(!0,{},a.xaxis,a.xaxes[n]);for(n=0;n<Math.max(1,a.yaxes.length);++n)a.yaxes[n]=e.extend(!0,{},a.yaxis,a.yaxes[n]);a.xaxis.noTicks&&a.xaxis.ticks==null&&(a.xaxis.ticks=a.xaxis.noTicks);a.yaxis.noTicks&&a.yaxis.ticks==null&&(a.yaxis.ticks=a.yaxis.noTicks);if(a.x2axis){a.xaxes[1]=e.extend(!0,{},a.xaxis,a.x2axis);a.xaxes[1].position="top"}if(a.y2axis){a.yaxes[1]=e.extend(!0,{},a.yaxis,a.y2axis);a.yaxes[1].position="right"}a.grid.coloredAreas&&(a.grid.markings=a.grid.coloredAreas);a.grid.coloredAreasColor&&(a.grid.markingsColor=a.grid.coloredAreasColor);a.lines&&e.extend(!0,a.series.lines,a.lines);a.points&&e.extend(!0,a.series.points,a.points);a.bars&&e.extend(!0,a.series.bars,a.bars);a.shadowSize!=null&&(a.series.shadowSize=a.shadowSize);for(n=0;n<a.xaxes.length;++n)_(d,n+1).options=a.xaxes[n];for(n=0;n<a.yaxes.length;++n)_(v,n+1).options=a.yaxes[n];for(var r in E)a.hooks[r]&&a.hooks[r].length&&(E[r]=E[r].concat(a.hooks[r]));x(E.processOptions,[a])}function C(e){u=k(e);D();P()}function k(t){var n=[];for(var r=0;r<t.length;++r){var i=e.extend(!0,{},a.series);if(t[r].data!=null){i.data=t[r].data;delete t[r].data;e.extend(!0,i,t[r]);t[r].data=i.data}else i.data=t[r];n.push(i)}return n}function L(e,t){var n=e[t+"axis"];typeof n=="object"&&(n=n.n);typeof n!="number"&&(n=1);return n}function A(){return e.grep(d.concat(v),function(e){return e})}function O(e){var t={},n,r;for(n=0;n<d.length;++n){r=d[n];r&&r.used&&(t["x"+r.n]=r.c2p(e.left))}for(n=0;n<v.length;++n){r=v[n];r&&r.used&&(t["y"+r.n]=r.c2p(e.top))}t.x1!==undefined&&(t.x=t.x1);t.y1!==undefined&&(t.y=t.y1);return t}function M(e){var t={},n,r,i;for(n=0;n<d.length;++n){r=d[n];if(r&&r.used){i="x"+r.n;e[i]==null&&r.n==1&&(i="x");if(e[i]!=null){t.left=r.p2c(e[i]);break}}}for(n=0;n<v.length;++n){r=v[n];if(r&&r.used){i="y"+r.n;e[i]==null&&r.n==1&&(i="y");if(e[i]!=null){t.top=r.p2c(e[i]);break}}}return t}function _(t,n){t[n-1]||(t[n-1]={n:n,direction:t==d?"x":"y",options:e.extend(!0,{},t==d?a.xaxis:a.yaxis)});return t[n-1]}function D(){var t,n=u.length,r=[],i=[];for(t=0;t<u.length;++t){var s=u[t].color;if(s!=null){--n;typeof s=="number"?i.push(s):r.push(e.color.parse(u[t].color))}}for(t=0;t<i.length;++t)n=Math.max(n,i[t]+1);var o=[],f=0;t=0;while(o.length<n){var l;a.colors.length==t?l=e.color.make(100,100,100):l=e.color.parse(a.colors[t]);var c=f%2==1?-1:1;l.scale("rgb",1+c*Math.ceil(f/2)*.2);o.push(l);++t;if(t>=a.colors.length){t=0;++f}}var h=0,p;for(t=0;t<u.length;++t){p=u[t];if(p.color==null){p.color=o[h].toString();++h}else typeof p.color=="number"&&(p.color=o[p.color].toString());if(p.lines.show==null){var m,g=!0;for(m in p)if(p[m]&&p[m].show){g=!1;break}g&&(p.lines.show=!0)}p.xaxis=_(d,L(p,"x"));p.yaxis=_(v,L(p,"y"))}}function P(){function b(e,t,n){t<e.datamin&&t!=-r&&(e.datamin=t);n>e.datamax&&n!=r&&(e.datamax=n)}var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.MAX_VALUE,i,s,o,a,f,l,c,h,p,d,v,m,g,y;e.each(A(),function(e,r){r.datamin=t;r.datamax=n;r.used=!1});for(i=0;i<u.length;++i){l=u[i];l.datapoints={points:[]};x(E.processRawData,[l,l.data,l.datapoints])}for(i=0;i<u.length;++i){l=u[i];var w=l.data,S=l.datapoints.format;if(!S){S=[];S.push({x:!0,number:!0,required:!0});S.push({y:!0,number:!0,required:!0});if(l.bars.show||l.lines.show&&l.lines.fill){S.push({y:!0,number:!0,required:!1,defaultValue:0});if(l.bars.horizontal){delete S[S.length-1].y;S[S.length-1].x=!0}}l.datapoints.format=S}if(l.datapoints.pointsize!=null)continue;l.datapoints.pointsize=S.length;h=l.datapoints.pointsize;c=l.datapoints.points;insertSteps=l.lines.show&&l.lines.steps;l.xaxis.used=l.yaxis.used=!0;for(s=o=0;s<w.length;++s,o+=h){y=w[s];var T=y==null;if(!T)for(a=0;a<h;++a){m=y[a];g=S[a];if(g){if(g.number&&m!=null){m=+m;isNaN(m)?m=null:m==Infinity?m=r:m==-Infinity&&(m=-r)}if(m==null){g.required&&(T=!0);g.defaultValue!=null&&(m=g.defaultValue)}}c[o+a]=m}if(T)for(a=0;a<h;++a){m=c[o+a];if(m!=null){g=S[a];g.x&&b(l.xaxis,m,m);g.y&&b(l.yaxis,m,m)}c[o+a]=null}else if(insertSteps&&o>0&&c[o-h]!=null&&c[o-h]!=c[o]&&c[o-h+1]!=c[o+1]){for(a=0;a<h;++a)c[o+h+a]=c[o+a];c[o+1]=c[o-h+1];o+=h}}}for(i=0;i<u.length;++i){l=u[i];x(E.processDatapoints,[l,l.datapoints])}for(i=0;i<u.length;++i){l=u[i];c=l.datapoints.points,h=l.datapoints.pointsize;var N=t,C=t,k=n,L=n;for(s=0;s<c.length;s+=h){if(c[s]==null)continue;for(a=0;a<h;++a){m=c[s+a];g=S[a];if(!g||m==r||m==-r)continue;if(g.x){m<N&&(N=m);m>k&&(k=m)}if(g.y){m<C&&(C=m);m>L&&(L=m)}}}if(l.bars.show){var O=l.bars.align=="left"?0:-l.bars.barWidth/2;if(l.bars.horizontal){C+=O;L+=O+l.bars.barWidth}else{N+=O;k+=O+l.bars.barWidth}}b(l.xaxis,N,k);b(l.yaxis,C,L)}e.each(A(),function(e,r){r.datamin==t&&(r.datamin=null);r.datamax==n&&(r.datamax=null)})}function H(n,r){var i=document.createElement("canvas");i.className=r;i.width=g;i.height=y;n||e(i).css({position:"absolute",left:0,top:0});e(i).appendTo(t);i.getContext||(i=window.G_vmlCanvasManager.initElement(i));i.getContext("2d").save();return i}function B(){g=t.width();y=t.height();if(g<=0||y<=0)throw"Invalid dimensions for plot, width = "+g+", height = "+y}function j(e){e.width!=g&&(e.width=g);e.height!=y&&(e.height=y);var t=e.getContext("2d");t.restore();t.save()}function F(){var n,r=t.children("canvas.base"),i=t.children("canvas.overlay");if(r.length==0||i==0){t.html("");t.css({padding:0});t.css("position")=="static"&&t.css("position","relative");B();f=H(!0,"base");l=H(!1,"overlay");n=!1}else{f=r.get(0);l=i.get(0);n=!0}h=f.getContext("2d");p=l.getContext("2d");c=e([l,f]);if(n){t.data("plot").shutdown();S.resize();p.clearRect(0,0,g,y);c.unbind();t.children().not([f,l]).remove()}t.data("plot",S)}function I(){if(a.grid.hoverable){c.mousemove(ht);c.mouseleave(pt)}a.grid.clickable&&c.click(dt);x(E.bindEvents,[c])}function q(){lt&&clearTimeout(lt);c.unbind("mousemove",ht);c.unbind("mouseleave",pt);c.unbind("click",dt);x(E.shutdown,[c])}function R(e){function t(e){return e}var n,r,i=e.options.transform||t,s=e.options.inverseTransform;if(e.direction=="x"){n=e.scale=b/Math.abs(i(e.max)-i(e.min));r=Math.min(i(e.max),i(e.min))}else{n=e.scale=w/Math.abs(i(e.max)-i(e.min));n=-n;r=Math.max(i(e.max),i(e.min))}i==t?e.p2c=function(e){return(e-r)*n}:e.p2c=function(e){return(i(e)-r)*n};s?e.c2p=function(e){return s(r+e/n)}:e.c2p=function(e){return r+e/n}}function U(n){function c(r,i){return e('<div style="position:absolute;top:-10000px;'+i+'font-size:smaller">'+'<div class="'+n.direction+"Axis "+n.direction+n.n+'Axis">'+r.join("")+"</div></div>").appendTo(t)}var r=n.options,i,s=n.ticks||[],o=[],u,a=r.labelWidth,f=r.labelHeight,l;if(n.direction=="x"){a==null&&(a=Math.floor(g/(s.length>0?s.length:1)));if(f==null){o=[];for(i=0;i<s.length;++i){u=s[i].label;u&&o.push('<div class="tickLabel" style="float:left;width:'+a+'px">'+u+"</div>")}if(o.length>0){o.push('<div style="clear:left"></div>');l=c(o,"width:10000px;");f=l.height();l.remove()}}}else if(a==null||f==null){for(i=0;i<s.length;++i){u=s[i].label;u&&o.push('<div class="tickLabel">'+u+"</div>")}if(o.length>0){l=c(o,"");a==null&&(a=l.children().width());f==null&&(f=l.find("div.tickLabel").height());l.remove()}}a==null&&(a=0);f==null&&(f=0);n.labelWidth=a;n.labelHeight=f}function z(t){var n=t.labelWidth,r=t.labelHeight,i=t.options.position,s=t.options.tickLength,o=a.grid.axisMargin,u=a.grid.labelMargin,f=t.direction=="x"?d:v,l,c=e.grep(f,function(e){return e&&e.options.position==i&&e.reserveSpace});e.inArray(t,c)==c.length-1&&(o=0);s==null&&(s="full");var h=e.grep(f,function(e){return e&&e.reserveSpace}),p=e.inArray(t,h)==0;!p&&s=="full"&&(s=5);isNaN(+s)||(u+=+s);if(t.direction=="x"){r+=u;if(i=="bottom"){m.bottom+=r+o;t.box={top:y-m.bottom,height:r}}else{t.box={top:m.top+o,height:r};m.top+=r+o}}else{n+=u;if(i=="left"){t.box={left:m.left+o,width:n};m.left+=n+o}else{m.right+=n+o;t.box={left:g-m.right,width:n}}}t.position=i;t.tickLength=s;t.box.padding=u;t.innermost=p}function W(e){if(e.direction=="x"){e.box.left=m.left;e.box.width=b}else{e.box.top=m.top;e.box.height=w}}function X(){var t,n=A();e.each(n,function(e,t){t.show=t.options.show;t.show==null&&(t.show=t.used);t.reserveSpace=t.show||t.options.reserveSpace;V(t)});allocatedAxes=e.grep(n,function(e){return e.reserveSpace});m.left=m.right=m.top=m.bottom=0;if(a.grid.show){e.each(allocatedAxes,function(e,t){J(t);K(t);Q(t,t.ticks);U(t)});for(t=allocatedAxes.length-1;t>=0;--t)z(allocatedAxes[t]);var r=a.grid.minBorderMargin;if(r==null){r=0;for(t=0;t<u.length;++t)r=Math.max(r,u[t].points.radius+u[t].points.lineWidth/2)}for(var i in m){m[i]+=a.grid.borderWidth;m[i]=Math.max(r,m[i])}}b=g-m.left-m.right;w=y-m.bottom-m.top;e.each(n,function(e,t){R(t)});if(a.grid.show){e.each(allocatedAxes,function(e,t){W(t)});tt()}at()}function V(e){var t=e.options,n=+(t.min!=null?t.min:e.datamin),r=+(t.max!=null?t.max:e.datamax),i=r-n;if(i==0){var s=r==0?1:.01;t.min==null&&(n-=s);if(t.max==null||t.min!=null)r+=s}else{var o=t.autoscaleMargin;if(o!=null){if(t.min==null){n-=i*o;n<0&&e.datamin!=null&&e.datamin>=0&&(n=0)}if(t.max==null){r+=i*o;r>0&&e.datamax!=null&&e.datamax<=0&&(r=0)}}}e.min=n;e.max=r}function J(t){var r=t.options,i;typeof r.ticks=="number"&&r.ticks>0?i=r.ticks:i=.3*Math.sqrt(t.direction=="x"?g:y);var s=(t.max-t.min)/i,o,u,a,f,l,c,h;if(r.mode=="time"){var p={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},m=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],b=0;r.minTickSize!=null&&(typeof r.tickSize=="number"?b=r.tickSize:b=r.minTickSize[0]*p[r.minTickSize[1]]);for(var l=0;l<m.length-1;++l)if(s<(m[l][0]*p[m[l][1]]+m[l+1][0]*p[m[l+1][1]])/2&&m[l][0]*p[m[l][1]]>=b)break;o=m[l][0];a=m[l][1];if(a=="year"){c=Math.pow(10,Math.floor(Math.log(s/p.year)/Math.LN10));h=s/p.year/c;h<1.5?o=1:h<3?o=2:h<7.5?o=5:o=10;o*=c}t.tickSize=r.tickSize||[o,a];u=function(e){var t=[],r=e.tickSize[0],i=e.tickSize[1],s=new Date(e.min),o=r*p[i];i=="second"&&s.setUTCSeconds(n(s.getUTCSeconds(),r));i=="minute"&&s.setUTCMinutes(n(s.getUTCMinutes(),r));i=="hour"&&s.setUTCHours(n(s.getUTCHours(),r));i=="month"&&s.setUTCMonth(n(s.getUTCMonth(),r));i=="year"&&s.setUTCFullYear(n(s.getUTCFullYear(),r));s.setUTCMilliseconds(0);o>=p.minute&&s.setUTCSeconds(0);o>=p.hour&&s.setUTCMinutes(0);o>=p.day&&s.setUTCHours(0);o>=p.day*4&&s.setUTCDate(1);o>=p.year&&s.setUTCMonth(0);var u=0,a=Number.NaN,f;do{f=a;a=s.getTime();t.push(a);if(i=="month")if(r<1){s.setUTCDate(1);var l=s.getTime();s.setUTCMonth(s.getUTCMonth()+1);var c=s.getTime();s.setTime(a+u*p.hour+(c-l)*r);u=s.getUTCHours();s.setUTCHours(0)}else s.setUTCMonth(s.getUTCMonth()+r);else i=="year"?s.setUTCFullYear(s.getUTCFullYear()+r):s.setTime(a+o)}while(a<e.max&&a!=f);return t};f=function(t,n){var i=new Date(t);if(r.timeformat!=null)return e.plot.formatDate(i,r.timeformat,r.monthNames);var s=n.tickSize[0]*p[n.tickSize[1]],o=n.max-n.min,u=r.twelveHourClock?" %p":"";s<p.minute?fmt="%h:%M:%S"+u:s<p.day?o<2*p.day?fmt="%h:%M"+u:fmt="%b %d %h:%M"+u:s<p.month?fmt="%b %d":s<p.year?o<p.year?fmt="%b":fmt="%b %y":fmt="%y";return e.plot.formatDate(i,fmt,r.monthNames)}}else{var w=r.tickDecimals,E=-Math.floor(Math.log(s)/Math.LN10);w!=null&&E>w&&(E=w);c=Math.pow(10,-E);h=s/c;if(h<1.5)o=1;else if(h<3){o=2;if(h>2.25&&(w==null||E+1<=w)){o=2.5;++E}}else h<7.5?o=5:o=10;o*=c;r.minTickSize!=null&&o<r.minTickSize&&(o=r.minTickSize);t.tickDecimals=Math.max(0,w!=null?w:E);t.tickSize=r.tickSize||o;u=function(e){var t=[],r=n(e.min,e.tickSize),i=0,s=Number.NaN,o;do{o=s;s=r+i*e.tickSize;t.push(s);++i}while(s<e.max&&s!=o);return t};f=function(e,t){return e.toFixed(t.tickDecimals)}}if(r.alignTicksWithAxis!=null){var S=(t.direction=="x"?d:v)[r.alignTicksWithAxis-1];if(S&&S.used&&S!=t){var x=u(t);if(x.length>0){r.min==null&&(t.min=Math.min(t.min,x[0]));r.max==null&&x.length>1&&(t.max=Math.max(t.max,x[x.length-1]))}u=function(e){var t=[],n,r;for(r=0;r<S.ticks.length;++r){n=(S.ticks[r].v-S.min)/(S.max-S.min);n=e.min+n*(e.max-e.min);t.push(n)}return t};if(t.mode!="time"&&r.tickDecimals==null){var T=Math.max(0,-Math.floor(Math.log(s)/Math.LN10)+1),N=u(t);N.length>1&&/\..*0$/.test((N[1]-N[0]).toFixed(T))||(t.tickDecimals=T)}}}t.tickGenerator=u;e.isFunction(r.tickFormatter)?t.tickFormatter=function(e,t){return""+r.tickFormatter(e,t)}:t.tickFormatter=f}function K(t){var n=t.options.ticks,r=[];n==null||typeof n=="number"&&n>0?r=t.tickGenerator(t):n&&(e.isFunction(n)?r=n({min:t.min,max:t.max}):r=n);var i,s;t.ticks=[];for(i=0;i<r.length;++i){var o=null,u=r[i];if(typeof u=="object"){s=+u[0];u.length>1&&(o=u[1])}else s=+u;o==null&&(o=t.tickFormatter(s,t));isNaN(s)||t.ticks.push({v:s,label:o})}}function Q(e,t){if(e.options.autoscaleMargin&&t.length>0){e.options.min==null&&(e.min=Math.min(e.min,t[0].v));e.options.max==null&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v))}}function G(){h.clearRect(0,0,g,y);var e=a.grid;e.show&&e.backgroundColor&&Z();e.show&&!e.aboveData&&et();for(var t=0;t<u.length;++t){x(E.drawSeries,[h,u[t]]);nt(u[t])}x(E.draw,[h]);e.show&&e.aboveData&&et()}function Y(e,t){var n,r,s,o,u=A();for(i=0;i<u.length;++i){n=u[i];if(n.direction==t){o=t+n.n+"axis";!e[o]&&n.n==1&&(o=t+"axis");if(e[o]){r=e[o].from;s=e[o].to;break}}}if(!e[o]){n=t=="x"?d[0]:v[0];r=e[t+"1"];s=e[t+"2"]}if(r!=null&&s!=null&&r>s){var a=r;r=s;s=a}return{from:r,to:s,axis:n}}function Z(){h.save();h.translate(m.left,m.top);h.fillStyle=xt(a.grid.backgroundColor,w,0,"rgba(255, 255, 255, 0)");h.fillRect(0,0,b,w);h.restore()}function et(){var t;h.save();h.translate(m.left,m.top);var n=a.grid.markings;if(n){if(e.isFunction(n)){var r=S.getAxes();r.xmin=r.xaxis.min;r.xmax=r.xaxis.max;r.ymin=r.yaxis.min;r.ymax=r.yaxis.max;n=n(r)}for(t=0;t<n.length;++t){var i=n[t],s=Y(i,"x"),o=Y(i,"y");s.from==null&&(s.from=s.axis.min);s.to==null&&(s.to=s.axis.max);o.from==null&&(o.from=o.axis.min);o.to==null&&(o.to=o.axis.max);if(s.to<s.axis.min||s.from>s.axis.max||o.to<o.axis.min||o.from>o.axis.max)continue;s.from=Math.max(s.from,s.axis.min);s.to=Math.min(s.to,s.axis.max);o.from=Math.max(o.from,o.axis.min);o.to=Math.min(o.to,o.axis.max);if(s.from==s.to&&o.from==o.to)continue;s.from=s.axis.p2c(s.from);s.to=s.axis.p2c(s.to);o.from=o.axis.p2c(o.from);o.to=o.axis.p2c(o.to);if(s.from==s.to||o.from==o.to){h.beginPath();h.strokeStyle=i.color||a.grid.markingsColor;h.lineWidth=i.lineWidth||a.grid.markingsLineWidth;h.moveTo(s.from,o.from);h.lineTo(s.to,o.to);h.stroke()}else{h.fillStyle=i.color||a.grid.markingsColor;h.fillRect(s.from,o.to,s.to-s.from,o.from-o.to)}}}var r=A(),u=a.grid.borderWidth;for(var f=0;f<r.length;++f){var l=r[f],c=l.box,p=l.tickLength,d,v,g,y;if(!l.show||l.ticks.length==0)continue;h.strokeStyle=l.options.tickColor||e.color.parse(l.options.color).scale("a",.22).toString();h.lineWidth=1;if(l.direction=="x"){d=0;p=="full"?v=l.position=="top"?0:w:v=c.top-m.top+(l.position=="top"?c.height:0)}else{v=0;p=="full"?d=l.position=="left"?0:b:d=c.left-m.left+(l.position=="left"?c.width:0)}if(!l.innermost){h.beginPath();g=y=0;l.direction=="x"?g=b:y=w;if(h.lineWidth==1){d=Math.floor(d)+.5;v=Math.floor(v)+.5}h.moveTo(d,v);h.lineTo(d+g,v+y);h.stroke()}h.beginPath();for(t=0;t<l.ticks.length;++t){var E=l.ticks[t].v;g=y=0;if(E<l.min||E>l.max||p=="full"&&u>0&&(E==l.min||E==l.max))continue;if(l.direction=="x"){d=l.p2c(E);y=p=="full"?-w:p;l.position=="top"&&(y=-y)}else{v=l.p2c(E);g=p=="full"?-b:p;l.position=="left"&&(g=-g)}h.lineWidth==1&&(l.direction=="x"?d=Math.floor(d)+.5:v=Math.floor(v)+.5);h.moveTo(d,v);h.lineTo(d+g,v+y)}h.stroke()}if(u){h.lineWidth=u;h.strokeStyle=a.grid.borderColor;h.strokeRect(-u/2,-u/2,b+u,w+u)}h.restore()}function tt(){t.find(".tickLabels").remove();var e=['<div class="tickLabels" style="font-size:smaller">'],n=A();for(var r=0;r<n.length;++r){var i=n[r],s=i.box;if(!i.show)continue;e.push('<div class="'+i.direction+"Axis "+i.direction+i.n+'Axis" style="color:'+i.options.color+'">');for(var o=0;o<i.ticks.length;++o){var u=i.ticks[o];if(!u.label||u.v<i.min||u.v>i.max)continue;var a={},f;if(i.direction=="x"){f="center";a.left=Math.round(m.left+i.p2c(u.v)-i.labelWidth/2);i.position=="bottom"?a.top=s.top+s.padding:a.bottom=y-(s.top+s.height-s.padding)}else{a.top=Math.round(m.top+i.p2c(u.v)-i.labelHeight/2);if(i.position=="left"){a.right=g-(s.left+s.width-s.padding);f="right"}else{a.left=s.left+s.padding;f="left"}}a.width=i.labelWidth;var l=["position:absolute","text-align:"+f];for(var c in a)l.push(c+":"+a[c]+"px");e.push('<div class="tickLabel" style="'+l.join(";")+'">'+u.label+"</div>")}e.push("</div>")}e.push("</div>");t.append(e.join(""))}function nt(e){e.lines.show&&rt(e);e.bars.show&&ot(e);e.points.show&&it(e)}function rt(e){function t(e,t,n,r,i){var s=e.points,o=e.pointsize,u=null,a=null;h.beginPath();for(var f=o;f<s.length;f+=o){var l=s[f-o],c=s[f-o+1],p=s[f],d=s[f+1];if(l==null||p==null)continue;if(c<=d&&c<i.min){if(d<i.min)continue;l=(i.min-c)/(d-c)*(p-l)+l;c=i.min}else if(d<=c&&d<i.min){if(c<i.min)continue;p=(i.min-c)/(d-c)*(p-l)+l;d=i.min}if(c>=d&&c>i.max){if(d>i.max)continue;l=(i.max-c)/(d-c)*(p-l)+l;c=i.max}else if(d>=c&&d>i.max){if(c>i.max)continue;p=(i.max-c)/(d-c)*(p-l)+l;d=i.max}if(l<=p&&l<r.min){if(p<r.min)continue;c=(r.min-l)/(p-l)*(d-c)+c;l=r.min}else if(p<=l&&p<r.min){if(l<r.min)continue;d=(r.min-l)/(p-l)*(d-c)+c;p=r.min}if(l>=p&&l>r.max){if(p>r.max)continue;c=(r.max-l)/(p-l)*(d-c)+c;l=r.max}else if(p>=l&&p>r.max){if(l>r.max)continue;d=(r.max-l)/(p-l)*(d-c)+c;p=r.max}(l!=u||c!=a)&&h.moveTo(r.p2c(l)+t,i.p2c(c)+n);u=p;a=d;h.lineTo(r.p2c(p)+t,i.p2c(d)+n)}h.stroke()}function n(e,t,n){var r=e.points,i=e.pointsize,s=Math.min(Math.max(0,n.min),n.max),o=0,u,a=!1,f=1,l=0,c=0;for(;;){if(i>0&&o>r.length+i)break;o+=i;var p=r[o-i],d=r[o-i+f],v=r[o],m=r[o+f];if(a){if(i>0&&p!=null&&v==null){c=o;i=-i;f=2;continue}if(i<0&&o==l+i){h.fill();a=!1;i=-i;f=1;o=l=c+i;continue}}if(p==null||v==null)continue;if(p<=v&&p<t.min){if(v<t.min)continue;d=(t.min-p)/(v-p)*(m-d)+d;p=t.min}else if(v<=p&&v<t.min){if(p<t.min)continue;m=(t.min-p)/(v-p)*(m-d)+d;v=t.min}if(p>=v&&p>t.max){if(v>t.max)continue;d=(t.max-p)/(v-p)*(m-d)+d;p=t.max}else if(v>=p&&v>t.max){if(p>t.max)continue;m=(t.max-p)/(v-p)*(m-d)+d;v=t.max}if(!a){h.beginPath();h.moveTo(t.p2c(p),n.p2c(s));a=!0}if(d>=n.max&&m>=n.max){h.lineTo(t.p2c(p),n.p2c(n.max));h.lineTo(t.p2c(v),n.p2c(n.max));continue}if(d<=n.min&&m<=n.min){h.lineTo(t.p2c(p),n.p2c(n.min));h.lineTo(t.p2c(v),n.p2c(n.min));continue}var g=p,y=v;if(d<=m&&d<n.min&&m>=n.min){p=(n.min-d)/(m-d)*(v-p)+p;d=n.min}else if(m<=d&&m<n.min&&d>=n.min){v=(n.min-d)/(m-d)*(v-p)+p;m=n.min}if(d>=m&&d>n.max&&m<=n.max){p=(n.max-d)/(m-d)*(v-p
)+p;d=n.max}else if(m>=d&&m>n.max&&d<=n.max){v=(n.max-d)/(m-d)*(v-p)+p;m=n.max}p!=g&&h.lineTo(t.p2c(g),n.p2c(d));h.lineTo(t.p2c(p),n.p2c(d));h.lineTo(t.p2c(v),n.p2c(m));if(v!=y){h.lineTo(t.p2c(v),n.p2c(m));h.lineTo(t.p2c(y),n.p2c(m))}}}h.save();h.translate(m.left,m.top);h.lineJoin="round";var r=e.lines.lineWidth,i=e.shadowSize;if(r>0&&i>0){h.lineWidth=i;h.strokeStyle="rgba(0,0,0,0.1)";var s=Math.PI/18;t(e.datapoints,Math.sin(s)*(r/2+i/2),Math.cos(s)*(r/2+i/2),e.xaxis,e.yaxis);h.lineWidth=i/2;t(e.datapoints,Math.sin(s)*(r/2+i/4),Math.cos(s)*(r/2+i/4),e.xaxis,e.yaxis)}h.lineWidth=r;h.strokeStyle=e.color;var o=ut(e.lines,e.color,0,w);if(o){h.fillStyle=o;n(e.datapoints,e.xaxis,e.yaxis)}r>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);h.restore()}function it(e){function t(e,t,n,r,i,s,o,u){var a=e.points,f=e.pointsize;for(var l=0;l<a.length;l+=f){var c=a[l],p=a[l+1];if(c==null||c<s.min||c>s.max||p<o.min||p>o.max)continue;h.beginPath();c=s.p2c(c);p=o.p2c(p)+r;u=="circle"?h.arc(c,p,t,0,i?Math.PI:Math.PI*2,!1):u(h,c,p,t,i);h.closePath();if(n){h.fillStyle=n;h.fill()}h.stroke()}}h.save();h.translate(m.left,m.top);var n=e.points.lineWidth,r=e.shadowSize,i=e.points.radius,s=e.points.symbol;if(n>0&&r>0){var o=r/2;h.lineWidth=o;h.strokeStyle="rgba(0,0,0,0.1)";t(e.datapoints,i,null,o+o/2,!0,e.xaxis,e.yaxis,s);h.strokeStyle="rgba(0,0,0,0.2)";t(e.datapoints,i,null,o/2,!0,e.xaxis,e.yaxis,s)}h.lineWidth=n;h.strokeStyle=e.color;t(e.datapoints,i,ut(e.points,e.color),0,!1,e.xaxis,e.yaxis,s);h.restore()}function st(e,t,n,r,i,s,o,u,a,f,l,c){var h,p,d,v,m,g,y,b,w;if(l){b=g=y=!0;m=!1;h=n;p=e;v=t+r;d=t+i;if(p<h){w=p;p=h;h=w;m=!0;g=!1}}else{m=g=y=!0;b=!1;h=e+r;p=e+i;d=n;v=t;if(v<d){w=v;v=d;d=w;b=!0;y=!1}}if(p<u.min||h>u.max||v<a.min||d>a.max)return;if(h<u.min){h=u.min;m=!1}if(p>u.max){p=u.max;g=!1}if(d<a.min){d=a.min;b=!1}if(v>a.max){v=a.max;y=!1}h=u.p2c(h);d=a.p2c(d);p=u.p2c(p);v=a.p2c(v);if(o){f.beginPath();f.moveTo(h,d);f.lineTo(h,v);f.lineTo(p,v);f.lineTo(p,d);f.fillStyle=o(d,v);f.fill()}if(c>0&&(m||g||y||b)){f.beginPath();f.moveTo(h,d+s);m?f.lineTo(h,v+s):f.moveTo(h,v+s);y?f.lineTo(p,v+s):f.moveTo(p,v+s);g?f.lineTo(p,d+s):f.moveTo(p,d+s);b?f.lineTo(h,d+s):f.moveTo(h,d+s);f.stroke()}}function ot(e){function t(t,n,r,i,s,o,u){var a=t.points,f=t.pointsize;for(var l=0;l<a.length;l+=f){if(a[l]==null)continue;st(a[l],a[l+1],a[l+2],n,r,i,s,o,u,h,e.bars.horizontal,e.bars.lineWidth)}}h.save();h.translate(m.left,m.top);h.lineWidth=e.bars.lineWidth;h.strokeStyle=e.color;var n=e.bars.align=="left"?0:-e.bars.barWidth/2,r=e.bars.fill?function(t,n){return ut(e.bars,e.color,t,n)}:null;t(e.datapoints,n,n+e.bars.barWidth,0,r,e.xaxis,e.yaxis);h.restore()}function ut(t,n,r,i){var s=t.fill;if(!s)return null;if(t.fillColor)return xt(t.fillColor,r,i,n);var o=e.color.parse(n);o.a=typeof s=="number"?s:.4;o.normalize();return o.toString()}function at(){t.find(".legend").remove();if(!a.legend.show)return;var n=[],r=!1,i=a.legend.labelFormatter,s,o;for(var f=0;f<u.length;++f){s=u[f];o=s.label;if(!o)continue;if(f%a.legend.noColumns==0){r&&n.push("</tr>");n.push("<tr>");r=!0}i&&(o=i(o,s));n.push('<td class="legendColorBox"><div style="border:1px solid '+a.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+s.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+o+"</td>")}r&&n.push("</tr>");if(n.length==0)return;var l='<table style="font-size:smaller;color:'+a.grid.color+'">'+n.join("")+"</table>";if(a.legend.container!=null)e(a.legend.container).html(l);else{var c="",h=a.legend.position,p=a.legend.margin;p[0]==null&&(p=[p,p]);h.charAt(0)=="n"?c+="top:"+(p[1]+m.top)+"px;":h.charAt(0)=="s"&&(c+="bottom:"+(p[1]+m.bottom)+"px;");h.charAt(1)=="e"?c+="right:"+(p[0]+m.right)+"px;":h.charAt(1)=="w"&&(c+="left:"+(p[0]+m.left)+"px;");var d=e('<div class="legend">'+l.replace('style="','style="position:absolute;'+c+";")+"</div>").appendTo(t);if(a.legend.backgroundOpacity!=0){var v=a.legend.backgroundColor;if(v==null){v=a.grid.backgroundColor;v&&typeof v=="string"?v=e.color.parse(v):v=e.color.extract(d,"background-color");v.a=1;v=v.toString()}var g=d.children();e('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+c+"background-color:"+v+';"> </div>').prependTo(d).css("opacity",a.legend.backgroundOpacity)}}}function ct(e,t,n){var r=a.grid.mouseActiveRadius,i=r*r+1,s=null,o=!1,f,l;for(f=u.length-1;f>=0;--f){if(!n(u[f]))continue;var c=u[f],h=c.xaxis,p=c.yaxis,d=c.datapoints.points,v=c.datapoints.pointsize,m=h.c2p(e),g=p.c2p(t),y=r/h.scale,b=r/p.scale;h.options.inverseTransform&&(y=Number.MAX_VALUE);p.options.inverseTransform&&(b=Number.MAX_VALUE);if(c.lines.show||c.points.show)for(l=0;l<d.length;l+=v){var w=d[l],E=d[l+1];if(w==null)continue;if(w-m>y||w-m<-y||E-g>b||E-g<-b)continue;var S=Math.abs(h.p2c(w)-e),x=Math.abs(p.p2c(E)-t),T=S*S+x*x;if(T<i){i=T;s=[f,l/v]}}if(c.bars.show&&!s){var N=c.bars.align=="left"?0:-c.bars.barWidth/2,C=N+c.bars.barWidth;for(l=0;l<d.length;l+=v){var w=d[l],E=d[l+1],k=d[l+2];if(w==null)continue;if(u[f].bars.horizontal?m<=Math.max(k,w)&&m>=Math.min(k,w)&&g>=E+N&&g<=E+C:m>=w+N&&m<=w+C&&g>=Math.min(k,E)&&g<=Math.max(k,E))s=[f,l/v]}}}if(s){f=s[0];l=s[1];v=u[f].datapoints.pointsize;return{datapoint:u[f].datapoints.points.slice(l*v,(l+1)*v),dataIndex:l,series:u[f],seriesIndex:f}}return null}function ht(e){a.grid.hoverable&&vt("plothover",e,function(e){return e["hoverable"]!=0})}function pt(e){a.grid.hoverable&&vt("plothover",e,function(e){return!1})}function dt(e){vt("plotclick",e,function(e){return e["clickable"]!=0})}function vt(e,n,r){var i=c.offset(),s=n.pageX-i.left-m.left,o=n.pageY-i.top-m.top,u=O({left:s,top:o});u.pageX=n.pageX;u.pageY=n.pageY;var f=ct(s,o,r);if(f){f.pageX=parseInt(f.series.xaxis.p2c(f.datapoint[0])+i.left+m.left);f.pageY=parseInt(f.series.yaxis.p2c(f.datapoint[1])+i.top+m.top)}if(a.grid.autoHighlight){for(var l=0;l<ft.length;++l){var h=ft[l];h.auto==e&&(!f||h.series!=f.series||h.point[0]!=f.datapoint[0]||h.point[1]!=f.datapoint[1])&&bt(h.series,h.point)}f&&yt(f.series,f.datapoint,e)}t.trigger(e,[u,f])}function mt(){lt||(lt=setTimeout(gt,30))}function gt(){lt=null;p.save();p.clearRect(0,0,g,y);p.translate(m.left,m.top);var e,t;for(e=0;e<ft.length;++e){t=ft[e];t.series.bars.show?St(t.series,t.point):Et(t.series,t.point)}p.restore();x(E.drawOverlay,[p])}function yt(e,t,n){typeof e=="number"&&(e=u[e]);if(typeof t=="number"){var r=e.datapoints.pointsize;t=e.datapoints.points.slice(r*t,r*(t+1))}var i=wt(e,t);if(i==-1){ft.push({series:e,point:t,auto:n});mt()}else n||(ft[i].auto=!1)}function bt(e,t){if(e==null&&t==null){ft=[];mt()}typeof e=="number"&&(e=u[e]);typeof t=="number"&&(t=e.data[t]);var n=wt(e,t);if(n!=-1){ft.splice(n,1);mt()}}function wt(e,t){for(var n=0;n<ft.length;++n){var r=ft[n];if(r.series==e&&r.point[0]==t[0]&&r.point[1]==t[1])return n}return-1}function Et(t,n){var r=n[0],i=n[1],s=t.xaxis,o=t.yaxis;if(r<s.min||r>s.max||i<o.min||i>o.max)return;var u=t.points.radius+t.points.lineWidth/2;p.lineWidth=u;p.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var a=1.5*u,r=s.p2c(r),i=o.p2c(i);p.beginPath();t.points.symbol=="circle"?p.arc(r,i,a,0,2*Math.PI,!1):t.points.symbol(p,r,i,a,!1);p.closePath();p.stroke()}function St(t,n){p.lineWidth=t.bars.lineWidth;p.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var r=e.color.parse(t.color).scale("a",.5).toString(),i=t.bars.align=="left"?0:-t.bars.barWidth/2;st(n[0],n[1],n[2]||0,i,i+t.bars.barWidth,0,function(){return r},t.xaxis,t.yaxis,p,t.bars.horizontal,t.bars.lineWidth)}function xt(t,n,r,i){if(typeof t=="string")return t;var s=h.createLinearGradient(0,r,0,n);for(var o=0,u=t.colors.length;o<u;++o){var a=t.colors[o];if(typeof a!="string"){var f=e.color.parse(i);a.brightness!=null&&(f=f.scale("rgb",a.brightness));a.opacity!=null&&(f.a*=a.opacity);a=f.toString()}s.addColorStop(o/(u-1),a)}return s}var u=[],a={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},f=null,l=null,c=null,h=null,p=null,d=[],v=[],m={left:0,right:0,top:0,bottom:0},g=0,y=0,b=0,w=0,E={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},S=this;S.setData=C;S.setupGrid=X;S.draw=G;S.getPlaceholder=function(){return t};S.getCanvas=function(){return f};S.getPlotOffset=function(){return m};S.width=function(){return b};S.height=function(){return w};S.offset=function(){var e=c.offset();e.left+=m.left;e.top+=m.top;return e};S.getData=function(){return u};S.getAxes=function(){var t={},n;e.each(d.concat(v),function(e,n){n&&(t[n.direction+(n.n!=1?n.n:"")+"axis"]=n)});return t};S.getXAxes=function(){return d};S.getYAxes=function(){return v};S.c2p=O;S.p2c=M;S.getOptions=function(){return a};S.highlight=yt;S.unhighlight=bt;S.triggerRedrawOverlay=mt;S.pointOffset=function(e){return{left:parseInt(d[L(e,"x")-1].p2c(+e.x)+m.left),top:parseInt(v[L(e,"y")-1].p2c(+e.y)+m.top)}};S.shutdown=q;S.resize=function(){B();j(f);j(l)};S.hooks=E;T(S);N(s);F();C(r);X();G();I();var ft=[],lt=null}function n(e,t){return t*Math.floor(e/t)}e.plot=function(n,r,i){var s=new t(e(n),r,i,e.plot.plugins);return s};e.plot.version="0.7";e.plot.plugins=[];e.plot.formatDate=function(e,t,n){var r=function(e){e=""+e;return e.length==1?"0"+e:e},i=[],s=!1,o=!1,u=e.getUTCHours(),a=u<12;n==null&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);t.search(/%p|%P/)!=-1&&(u>12?u-=12:u==0&&(u=12));for(var f=0;f<t.length;++f){var l=t.charAt(f);if(s){switch(l){case"h":l=""+u;break;case"H":l=r(u);break;case"M":l=r(e.getUTCMinutes());break;case"S":l=r(e.getUTCSeconds());break;case"d":l=""+e.getUTCDate();break;case"m":l=""+(e.getUTCMonth()+1);break;case"y":l=""+e.getUTCFullYear();break;case"b":l=""+n[e.getUTCMonth()];break;case"p":l=a?"am":"pm";break;case"P":l=a?"AM":"PM";break;case"0":l="";o=!0}if(l&&o){l=r(l);o=!1}i.push(l);o||(s=!1)}else l=="%"?s=!0:i.push(l)}return i.join("")}})(jQuery);document.createElement("canvas").getContext||function(){function f(){return this.context_||(this.context_=new F(this))}function p(e,t,n){var r=c.call(arguments,2);return function(){return e.apply(t,r.concat(c.call(arguments)))}}function d(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function v(e){e.namespaces.g_vml_||e.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");e.namespaces.g_o_||e.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");if(!e.styleSheets.ex_canvas_){var t=e.createStyleSheet();t.owningElement.id="ex_canvas_";t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function g(e){var t=e.srcElement;switch(e.propertyName){case"width":t.getContext().clearRect();t.style.width=t.attributes.width.nodeValue+"px";t.firstChild.style.width=t.clientWidth+"px";break;case"height":t.getContext().clearRect();t.style.height=t.attributes.height.nodeValue+"px";t.firstChild.style.height=t.clientHeight+"px"}}function y(e){var t=e.srcElement;if(t.firstChild){t.firstChild.style.width=t.clientWidth+"px";t.firstChild.style.height=t.clientHeight+"px"}}function S(){return[[1,0,0],[0,1,0],[0,0,1]]}function x(e,t){var n=S();for(var r=0;r<3;r++)for(var i=0;i<3;i++){var s=0;for(var o=0;o<3;o++)s+=e[r][o]*t[o][i];n[r][i]=s}return n}function T(e,t){t.fillStyle=e.fillStyle;t.lineCap=e.lineCap;t.lineJoin=e.lineJoin;t.lineWidth=e.lineWidth;t.miterLimit=e.miterLimit;t.shadowBlur=e.shadowBlur;t.shadowColor=e.shadowColor;t.shadowOffsetX=e.shadowOffsetX;t.shadowOffsetY=e.shadowOffsetY;t.strokeStyle=e.strokeStyle;t.globalAlpha=e.globalAlpha;t.font=e.font;t.textAlign=e.textAlign;t.textBaseline=e.textBaseline;t.arcScaleX_=e.arcScaleX_;t.arcScaleY_=e.arcScaleY_;t.lineScale_=e.lineScale_}function C(e){var t=e.indexOf("(",3),n=e.indexOf(")",t+1),r=e.substring(t+1,n).split(",");r.length==4&&e.substr(3,1)=="a"?alpha=Number(r[3]):r[3]=1;return r}function k(e){return parseFloat(e)/100}function L(e,t,n){return Math.min(n,Math.max(t,e))}function A(e){var t,n,r;h=parseFloat(e[0])/360%360;h<0&&h++;s=L(k(e[1]),0,1);l=L(k(e[2]),0,1);if(s==0)t=n=r=l;else{var i=l<.5?l*(1+s):l+s-l*s,o=2*l-i;t=O(o,i,h+1/3);n=O(o,i,h);r=O(o,i,h-1/3)}return"#"+b[Math.floor(t*255)]+b[Math.floor(n*255)]+b[Math.floor(r*255)]}function O(e,t,n){n<0&&n++;n>1&&n--;return 6*n<1?e+(t-e)*6*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function M(e){var t,n=1;e=String(e);if(e.charAt(0)=="#")t=e;else if(/^rgb/.test(e)){var r=C(e),t="#",i;for(var s=0;s<3;s++){r[s].indexOf("%")!=-1?i=Math.floor(k(r[s])*255):i=Number(r[s]);t+=b[L(i,0,255)]}n=r[3]}else if(/^hsl/.test(e)){var r=C(e);t=A(r);n=r[3]}else t=N[e]||e;return{color:t,alpha:n}}function P(e){if(D[e])return D[e];var t=document.createElement("div"),n=t.style;try{n.font=e}catch(r){}return D[e]={style:n.fontStyle||_.style,variant:n.fontVariant||_.variant,weight:n.fontWeight||_.weight,size:n.fontSize||_.size,family:n.fontFamily||_.family}}function H(e,t){var n={};for(var r in e)n[r]=e[r];var i=parseFloat(t.currentStyle.fontSize),s=parseFloat(e.size);typeof e.size=="number"?n.size=e.size:e.size.indexOf("px")!=-1?n.size=s:e.size.indexOf("em")!=-1?n.size=i*s:e.size.indexOf("%")!=-1?n.size=i/100*s:e.size.indexOf("pt")!=-1?n.size=s/.75:n.size=i;n.size*=.981;return n}function B(e){return e.style+" "+e.variant+" "+e.weight+" "+e.size+"px "+e.family}function j(e){switch(e){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function F(e){this.m_=S();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=u*1;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=e;var t=e.ownerDocument.createElement("div");t.style.width=e.clientWidth+"px";t.style.height=e.clientHeight+"px";t.style.overflow="hidden";t.style.position="absolute";e.appendChild(t);this.element_=t;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}function q(e,t,n,r){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:n.x,cp2y:n.y,x:r.x,y:r.y});e.currentX_=r.x;e.currentY_=r.y}function R(e,t){var n=M(e.strokeStyle),r=n.color,i=n.alpha*e.globalAlpha,s=e.lineScale_*e.lineWidth;s<1&&(i*=s);t.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',e.lineJoin,'"',' miterlimit="',e.miterLimit,'"',' endcap="',j(e.lineCap),'"',' weight="',s,'px"',' color="',r,'" />')}function U(t,n,r,i){var s=t.fillStyle,o=t.arcScaleX_,a=t.arcScaleY_,f=i.x-r.x,l=i.y-r.y;if(s instanceof X){var c=0,h={x:0,y:0},p=0,d=1;if(s.type_=="gradient"){var v=s.x0_/o,m=s.y0_/a,g=s.x1_/o,y=s.y1_/a,b=t.getCoords_(v,m),w=t.getCoords_(g,y),E=w.x-b.x,S=w.y-b.y;c=Math.atan2(E,S)*180/Math.PI;c<0&&(c+=360);c<1e-6&&(c=0)}else{var b=t.getCoords_(s.x0_,s.y0_);h={x:(b.x-r.x)/f,y:(b.y-r.y)/l};f/=o*u;l/=a*u;var x=e.max(f,l);p=2*s.r0_/x;d=2*s.r1_/x-p}var T=s.colors_;T.sort(function(e,t){return e.offset-t.offset});var N=T.length,C=T[0].color,k=T[N-1].color,L=T[0].alpha*t.globalAlpha,A=T[N-1].alpha*t.globalAlpha,O=[];for(var _=0;_<N;_++){var D=T[_];O.push(D.offset*d+p+" "+D.color)}n.push('<g_vml_:fill type="',s.type_,'"',' method="none" focus="100%"',' color="',C,'"',' color2="',k,'"',' colors="',O.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',L,'"',' angle="',c,'"',' focusposition="',h.x,",",h.y,'" />')}else if(s instanceof V){if(f&&l){var P=-r.x,H=-r.y;n.push("<g_vml_:fill",' position="',P/f*o*o,",",H/l*a*a,'"',' type="tile"',' src="',s.src_,'" />')}}else{var B=M(t.fillStyle),j=B.color,F=B.alpha*t.globalAlpha;n.push('<g_vml_:fill color="',j,'" opacity="',F,'" />')}}function z(e){return isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])}function W(e,t,n){if(!z(t))return;e.m_=t;if(n){var r=t[0][0]*t[1][1]-t[0][1]*t[1][0];e.lineScale_=o(i(r))}}function X(e){this.type_=e;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}function V(e,t){J(e);switch(t){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=t;break;default:$("SYNTAX_ERR")}this.src_=e.src;this.width_=e.width;this.height_=e.height}function $(e){throw new K(e)}function J(e){(!e||e.nodeType!=1||e.tagName!="IMG")&&$("TYPE_MISMATCH_ERR");e.readyState!="complete"&&$("INVALID_STATE_ERR")}function K(e){this.code=this[e];this.message=e+": DOM Exception "+this.code}var e=Math,t=e.round,n=e.sin,r=e.cos,i=e.abs,o=e.sqrt,u=10,a=u/2,c=Array.prototype.slice;v(document);var m={init:function(e){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var t=e||document;t.createElement("canvas");t.attachEvent("onreadystatechange",p(this.init_,this,t))}},init_:function(e){var t=e.getElementsByTagName("canvas");for(var n=0;n<t.length;n++)this.initElement(t[n])},initElement:function(e){if(!e.getContext){e.getContext=f;v(e.ownerDocument);e.innerHTML="";e.attachEvent("onpropertychange",g);e.attachEvent("onresize",y);var t=e.attributes;t.width&&t.width.specified?e.style.width=t.width.nodeValue+"px":e.width=e.clientWidth;t.height&&t.height.specified?e.style.height=t.height.nodeValue+"px":e.height=e.clientHeight}return e}};m.init();var b=[];for(var w=0;w<16;w++)for(var E=0;E<16;E++)b[w*16+E]=w.toString(16)+E.toString(16);var N={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},_={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},D={},I=F.prototype;I.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(!0);this.textMeasureEl_=null}this.element_.innerHTML=""};I.beginPath=function(){this.currentPath_=[]};I.moveTo=function(e,t){var n=this.getCoords_(e,t);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y});this.currentX_=n.x;this.currentY_=n.y};I.lineTo=function(e,t){var n=this.getCoords_(e,t);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y});this.currentX_=n.x;this.currentY_=n.y};I.bezierCurveTo=function(e,t,n,r,i,s){var o=this.getCoords_(i,s),u=this.getCoords_(e,t),a=this.getCoords_(n,r);q(this,u,a,o)};I.quadraticCurveTo=function(e,t,n,r){var i=this.getCoords_(e,t),s=this.getCoords_(n,r),o={x:this.currentX_+2/3*(i.x-this.currentX_),y:this.currentY_+2/3*(i.y-this.currentY_)},u={x:o.x+(s.x-this.currentX_)/3,y:o.y+(s.y-this.currentY_)/3};q(this,o,u,s)};I.arc=function(e,t,i,s,o,f){i*=u;var l=f?"at":"wa",c=e+r(s)*i-a,h=t+n(s)*i-a,p=e+r(o)*i-a,d=t+n(o)*i-a;c==p&&!f&&(c+=.125);var v=this.getCoords_(e,t),m=this.getCoords_(c,h),g=this.getCoords_(p,d);this.currentPath_.push({type:l,x:v.x,y:v.y,radius:i,xStart:m.x,yStart:m.y,xEnd:g.x,yEnd:g.y})};I.rect=function(e,t,n,r){this.moveTo(e,t);this.lineTo(e+n,t);this.lineTo(e+n,t+r);this.lineTo(e,t+r);this.closePath()};I.strokeRect=function(e,t,n,r){var i=this.currentPath_;this.beginPath();this.moveTo(e,t);this.lineTo(e+n,t);this.lineTo(e+n,t+r);this.lineTo(e,t+r);this.closePath();this.stroke();this.currentPath_=i};I.fillRect=function(e,t,n,r){var i=this.currentPath_;this.beginPath();this.moveTo(e,t);this.lineTo(e+n,t);this.lineTo(e+n,t+r);this.lineTo(e,t+r);this.closePath();this.fill();this.currentPath_=i};I.createLinearGradient=function(e,t,n,r){var i=new X("gradient");i.x0_=e;i.y0_=t;i.x1_=n;i.y1_=r;return i};I.createRadialGradient=function(e,t,n,r,i,s){var o=new X("gradientradial");o.x0_=e;o.y0_=t;o.r0_=n;o.x1_=r;o.y1_=i;o.r1_=s;return o};I.drawImage=function(n,r){var i,s,o,a,f,l,c,h,p=n.runtimeStyle.width,d=n.runtimeStyle.height;n.runtimeStyle.width="auto";n.runtimeStyle.height="auto";var v=n.width,m=n.height;n.runtimeStyle.width=p;n.runtimeStyle.height=d;if(arguments.length==3){i=arguments[1];s=arguments[2];f=l=0;c=o=v;h=a=m}else if(arguments.length==5){i=arguments[1];s=arguments[2];o=arguments[3];a=arguments[4];f=l=0;c=v;h=m}else{if(arguments.length!=9)throw Error("Invalid number of arguments");f=arguments[1];l=arguments[2];c=arguments[3];h=arguments[4];i=arguments[5];s=arguments[6];o=arguments[7];a=arguments[8]}var g=this.getCoords_(i,s),y=c/2,b=h/2,w=[],E=10,S=10;w.push(" <g_vml_:group",' coordsize="',u*E,",",u*S,'"',' coordorigin="0,0"',' style="width:',E,"px;height:",S,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",t(g.x/u),",","Dy=",t(g.y/u),"");var T=g,N=this.getCoords_(i+o,s),C=this.getCoords_(i,s+a),k=this.getCoords_(i+o,s+a);T.x=e.max(T.x,N.x,C.x,k.x);T.y=e.max(T.y,N.y,C.y,k.y);w.push("padding:0 ",t(T.x/u),"px ",t(T.y/u),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else w.push("top:",t(g.y/u),"px;left:",t(g.x/u),"px;");w.push(' ">','<g_vml_:image src="',n.src,'"',' style="width:',u*o,"px;"," height:",u*a,'px"',' cropleft="',f/v,'"',' croptop="',l/m,'"',' cropright="',(v-f-c)/v,'"',' cropbottom="',(m-l-h)/m,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",w.join(""))};I.stroke=function(e){var n=10,r=10,i=5e3,s={x:null,y:null},o={x:null,y:null};for(var a=0;a<this.currentPath_.length;a+=i){var f=[],l=!1;f.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',n,"px;height:",r,'px;"',' coordorigin="0,0"',' coordsize="',u*n,",",u*r,'"',' stroked="',!e,'"',' path="');var c=!1;for(var h=a;h<Math.min(a+i,this.currentPath_.length);h++){h%i==0&&h>0&&f.push(" m ",t(this.currentPath_[h-1].x),",",t(this.currentPath_[h-1].y));var p=this.currentPath_[h],d;switch(p.type){case"moveTo":d=p;f.push(" m ",t(p.x),",",t(p.y));break;case"lineTo":f.push(" l ",t(p.x),",",t(p.y));break;case"close":f.push(" x ");p=null;break;case"bezierCurveTo":f.push(" c ",t(p.cp1x),",",t(p.cp1y),",",t(p.cp2x),",",t(p.cp2y),",",t(p.x),",",t(p.y));break;case"at":case"wa":f.push(" ",p.type," ",t(p.x-this.arcScaleX_*p.radius),",",t(p.y-this.arcScaleY_*p.radius)," ",t(p.x+this.arcScaleX_*p.radius),",",t(p.y+this.arcScaleY_*p.radius)," ",t(p.xStart),",",t(p.yStart)," ",t(p.xEnd),",",t(p.yEnd))}if(p){if(s.x==null||p.x<s.x)s.x=p.x;if(o.x==null||p.x>o.x)o.x=p.x;if(s.y==null||p.y<s.y)s.y=p.y;if(o.y==null||p.y>o.y)o.y=p.y}}f.push(' ">');e?U(this,f,s,o):R(this,f);f.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",f.join(""))}};I.fill=function(){this.stroke(!0)};I.closePath=function(){this.currentPath_.push({type:"close"})};I.getCoords_=function(e,t){var n=this.m_;return{x:u*(e*n[0][0]+t*n[1][0]+n[2][0])-a,y:u*(e*n[0][1]+t*n[1][1]+n[2][1])-a}};I.save=function(){var e={};T(this,e);this.aStack_.push(e);this.mStack_.push(this.m_);this.m_=x(S(),this.m_)};I.restore=function(){if(this.aStack_.length){T(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};I.translate=function(e,t){var n=[[1,0,0],[0,1,0],[e,t,1]];W(this,x(n,this.m_),!1)};I.rotate=function(e){var t=r(e),i=n(e),s=[[t,i,0],[-i,t,0],[0,0,1]];W(this,x(s,this.m_),!1)};I.scale=function(e,t){this.arcScaleX_*=e;this.arcScaleY_*=t;var n=[[e,0,0],[0,t,0],[0,0,1]];W(this,x(n,this.m_),!0)};I.transform=function(e,t,n,r,i,s){var o=[[e,t,0],[n,r,0],[i,s,1]];W(this,x(o,this.m_),!0)};I.setTransform=function(e,t,n,r,i,s){var o=[[e,t,0],[n,r,0],[i,s,1]];W(this,o,!0)};I.drawText_=function(e,n,r,i,s){var o=this.m_,a=1e3,f=0,l=a,c={x:0,y:0},h=[],p=H(P(this.font),this.element_),v=B(p),m=this.element_.currentStyle,g=this.textAlign.toLowerCase();switch(g){case"left":case"center":case"right":break;case"end":g=m.direction=="ltr"?"right":"left";break;case"start":g=m.direction=="rtl"?"right":"left";break;default:g="left"}switch(this.textBaseline){case"hanging":case"top":c.y=p.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":c.y=-p.size/2.25}switch(g){case"right":f=a;l=.05;break;case"center":f=l=a/2}var y=this.getCoords_(n+c.x,r+c.y);h.push('<g_vml_:line from="',-f,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!s,'" stroked="',!!s,'" style="position:absolute;width:1px;height:1px;">');s?R(this,h):U(this,h,{x:-f,y:0},{x:l,y:p.size});var b=o[0][0].toFixed(3)+","+o[1][0].toFixed(3)+","+o[0][1].toFixed(3)+","+o[1][1].toFixed(3)+",0,0",w=t(y.x/u)+","+t(y.y/u);h.push('<g_vml_:skew on="t" matrix="',b,'" ',' offset="',w,'" origin="',f,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',d(e),'" style="v-text-align:',g,";font:",d(v),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",h.join(""))};I.fillText=function(e,t,n,r){this.drawText_(e,t,n,r,!1)};I.strokeText=function(e,t,n,r){this.drawText_(e,t,n,r,!0)};I.measureText=function(e){if(!this.textMeasureEl_){var t='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",t);this.textMeasureEl_=this.element_.lastChild}var n=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(n.createTextNode(e));return{width:this.textMeasureEl_.offsetWidth}};I.clip=function(){};I.arcTo=function(){};I.createPattern=function(e,t){return new V(e,t)};X.prototype.addColorStop=function(e,t){t=M(t);this.colors_.push({offset:e,color:t.color,alpha:t.alpha})};var Q=K.prototype=new Error;Q.INDEX_SIZE_ERR=1;Q.DOMSTRING_SIZE_ERR=2;Q.HIERARCHY_REQUEST_ERR=3;Q.WRONG_DOCUMENT_ERR=4;Q.INVALID_CHARACTER_ERR=5;Q.NO_DATA_ALLOWED_ERR=6;Q.NO_MODIFICATION_ALLOWED_ERR=7;Q.NOT_FOUND_ERR=8;Q.NOT_SUPPORTED_ERR=9;Q.INUSE_ATTRIBUTE_ERR=10;Q.INVALID_STATE_ERR=11;Q.SYNTAX_ERR=12;Q.INVALID_MODIFICATION_ERR=13;Q.NAMESPACE_ERR=14;Q.INVALID_ACCESS_ERR=15;Q.VALIDATION_ERR=16;Q.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=m;CanvasRenderingContext2D=F;CanvasGradient=X;CanvasPattern=V;DOMException=K}();window.ExpressoStore=window.ExpressoStore||{};window.ExpressoStore.dashboardGraph=function(e,t){var n={legend:{show:!0,margin:10,backgroundOpacity:.5},points:{show:!0,radius:3},lines:{show:!0},grid:{borderWidth:0,hoverable:!0},xaxis:{},yaxis:{min:0}},r=$("#store_graph");$.plot(r,[{label:e,data:t}],n);var i=null;r.bind("plothover",function(e,t,n){if(n){if(i!==n.datapoint[0]){i=n.datapoint[0];$(".store_dashboard_tooltip").remove();$('<div class="store_dashboard_tooltip">'+window.ExpressoStore.formatCurrency(n.datapoint[1])+"</div>").css({position:"absolute",display:"none",top:n.pageY+15,left:n.pageX+10}).appendTo("body").fadeIn("fast")}}else{i=null;$(".store_dashboard_tooltip").fadeOut("fast",function(){$(this).remove()})}});r.bind("mouseout",function(){i=null;$(".store_dashboard_tooltip").fadeOut("fast",function(){$(this).remove()})})};jQuery(function(e){e("#filterform select, #filterform input:checkbox").change(function(){e(".store_datatable").dataTable().fnDraw()});e("#filterform input:text").bind("keyup blur paste",function(){e(".store_datatable").dataTable().fnDraw()});e("#checkall").change(function(){e('.mainTable input:checkbox[name="selected[]"]').attr("checked",this.checked).closest("tr").toggleClass("store_selected",this.checked)});e('.mainTable input:checkbox[name="selected[]"]').live("change",function(){e(this).closest("tr").toggleClass("store_selected",this.checked)});if(e("#mainContent input.store_datetimepicker").size()>0){var t=new Date,n=t.getHours(),r=t.getMinutes(),i=" AM";r<10&&(r="0"+r);if(n>11){n-=12;i=" PM"}var s=" '"+n+":"+r+i+"'";e("#mainContent input.store_datetimepicker").datepicker({dateFormat:e.datepicker.W3C+s})}e("#mainContent input.store_datepicker").size()>0&&e("#mainContent input.store_datepicker").datepicker({dateFormat:e.datepicker.W3C});e("#mainContent select.store_country_select").size()>0&&e("#mainContent select.store_country_select").change(function(){var t=e(this).attr("name").replace("[country_code]","[region_code]"),n=e('#mainContent select[name="'+t+'"]');if(e(this).data("oldVal")!==e(this).val()){n.html(n.find('option[value="*"]'));var r=window.ExpressoStore.countries[e(this).val()];if(typeof r!="undefined")for(var i in r.regions)n.append('<option value="'+i+'">'+r.regions[i]+"</option>");e(this).data("oldVal",e(this).val())}});if(e("#mainContent .store_datatable").size()>0){var o=function(e,t){var n=e.fnGetData(t),r=n[n.length-1];return r},u=function(){var t=e(this).parent(),n=t.children("td").children("a").children("img");if(t.attr("class").indexOf("expand")>=0){n.attr("src",window.EE.PATH_CP_GBL_IMG+"expand.gif");t.removeClass("expand");t.addClass("collapse");t.next("tr").find(".store_datatables_details_row").slideUp("fast",function(){window.oTable.fnClose(t.get(0))})}else{n.attr("src",window.EE.PATH_CP_GBL_IMG+"collapse.gif");t.removeClass("collapse");t.addClass("expand");var r=window.oTable.fnOpen(this.parentNode,o(window.oTable,this.parentNode),"details"),i=e(r).children("td").attr("colspan");e(r).children("td").attr("colspan",i-2);e(r).prepend('<td colspan="2"></td>');e(r).find(".store_datatables_details_row").slideDown("fast")}return!1};e(".store_datatable tbody tr td.clickable").live("click",u);var a=function(){var t=e(this).children("img");if(t.attr("src").indexOf("expand")>=0){t.attr("src",window.EE.PATH_CP_GBL_IMG+"collapse.gif");e(".store_datatable tbody tr.collapse td.clickable:first-child"
).click()}else{t.attr("src",window.EE.PATH_CP_GBL_IMG+"expand.gif");e(".store_datatable tbody tr.expand td.clickable:first-child").click()}return!1};e(".store_datatable thead tr th a[id=all]").live("click",a);var f=document.createElement("td");e(".store_datatable tbody tr").each(function(){this.insertBefore(f.cloneNode(!0),this.childNodes[0])})}e(".cancel_edit_status").click(function(){e(this).closest("td").find(".edit_status_info").slideUp("fast");e(this).hide();e(this).prev(".edit_status").show();return!1});e(".edit_status").click(function(){e(this).closest("td").find(".edit_status_info").slideDown("fast");e(this).next(".cancel_edit_status").show();e(this).hide();return!1});e("input[data-store-confirm]").click(function(){return window.confirm(e(this).attr("data-store-confirm"))});e("#store_report_list .store_date_range_select").change(function(){e(this).val()==="custom_range"?e(this).siblings(".custom_date_range").show():e(this).siblings(".custom_date_range").hide()});e("#payment_method_class").change(function(){var t=e(this).val();e(".payment_driver_settings").hide().find(":input").attr("disabled",!0);if(t){e("#"+t+"_settings").show().find(":input").attr("disabled",!1);e("#payment_method_title").val(window.ExpressoStore.payment_drivers[t].title);e("#payment_method_name").val(window.ExpressoStore.payment_drivers[t].name)}}).change();if(e(".store_sortable_table").size()>0){e(".store_sortable_table").sortable({handle:".store_handle"});var l=function(){var t=e(".store_sortable_table").children(),n="";for(var r=0;r<t.length;r++){var i=e(t[r]);i.attr("data-order",r);r>0&&(n+=", ");n+=i.attr("id")+" => "+i.attr("data-order")}var s=window.EE.BASE+"&C=addons_modules&M=show_module_cp&module=store&method=ajax_reorder&table="+e(".store_sortable_table").attr("id");e.ajax({url:s,data:{order:n},dataType:"json"})},c=function(){e(".store_sortable_table").sortable({update:function(){l()}})};c()}if(e("#store_product_field").size()>0){var h=e("#store_product_modifiers_table");e("#store_product_field label.store_hide_field").click(function(){var t=e(this).children("img");if(t.attr("src").indexOf("field_collapse")>0){t.attr("src",t.attr("src").replace("field_collapse","field_expand"));e(this).next(".store_field_pane").slideDown()}else{t.attr("src",t.attr("src").replace("field_expand","field_collapse"));e(this).next(".store_field_pane").slideUp()}});var p=function(t){e("input.store_input_mod_order",t).each(function(t){e(this).val(t)})},d=function(t){e("input.store_input_opt_order",t).each(function(t){e(this).val(t)})};h.sortable({items:"> tbody",handle:".store_modifier_handle",placeholder:"store_ft_placeholder",forceHelperSize:!0,forcePlaceholderSize:!0,update:function(){p(this)}});var v=function(e){e.find(".store_product_options_table > tbody").sortable({handle:".store_option_handle",placeholder:"store_ft_placeholder",forceHelperSize:!0,forcePlaceholderSize:!0,update:function(){d(this)}})};v(h);var m=e("#store_product_modifier_template tr.store_product_option_row").clone();m.attr("style","display: none");h.delegate("a.store_product_option_add","click",function(){var t=e(this).attr("data-mod-key"),n=parseInt(e(this).attr("data-new-opt-key"),10),r="[modifiers]["+t+"][options]["+n+"]",i=m.clone();i.find("[name]").each(function(){e(this).attr("name",e(this).attr("name").replace("[modifiers][new][options][1]",r))});var s=e(this).closest("td");s.find(".store_product_options_table tbody").append(i);i.fadeIn();d(s);i.find("input:text:first").focus();e(this).attr("data-new-opt-key",n+1);return!1});var g=e("#store_product_modifier_template").removeAttr("id");g.remove();e("#store_product_modifiers_add").click(function(){var t=parseInt(e(this).attr("data-new-mod-key"),10),n="[modifiers]["+t+"]",r=g.clone();r.find("[name]").each(function(){e(this).attr("name",e(this).attr("name").replace("[modifiers][new]",n))});r.find("a.store_product_option_add").attr("data-mod-key",t);e("#store_product_modifier_empty").hide();h.append(r);r.fadeIn();p(h);v(r);r.find("input:text:first").focus();e(this).attr("data-new-mod-key",t+1);return!1});var y=function(){e("#store_product_stock_loading").show();var t=e('#publishForm [name="ACT"]').attr("disabled",!0),n=e("#publishForm").serialize();t.attr("disabled",!1);e("#store_product_stock input").attr("disabled",!0);e.post(window.ExpressoStore.fieldStockUrl,n).done(function(t){e("#store_product_stock").empty();e("#store_product_stock").html(t);e("#store_product_stock_loading").hide()})};h.delegate(".store_select_mod_type","change",function(){e(this).closest("tr").find(".store_product_options_wrap").toggle(e(this).val()==="var"||e(this).val()==="var_single_sku");y()});h.delegate(".store_input_mod_name, .store_input_opt_name","change",function(){y()});h.delegate("a.store_product_modifier_remove","click",function(){e(this).closest("tbody").fadeOut(function(){e(this).remove();y();h.find("tbody.store_product_modifier").size()===0&&e("#store_product_modifier_empty").show()});return!1});h.delegate("a.store_product_option_remove","click",function(){e(this).closest("tr").fadeOut(function(){e(this).remove();y()});return!1});e("#store_product_field").delegate("td.store_ft_text","click",function(t){if(t.target===this){var n=e(this).find("input:text:enabled").first();n.focus().val(n.val())}});e("#store_product_field").delegate("td.store_ft_text","keydown",function(e){if(e.which===13)return!1});e("#store_product_field").delegate("td.store_ft_text","focusin",function(){e(this).addClass("store_ft_focus")});e("#store_product_field").delegate("td.store_ft_text","focusout",function(){e(this).removeClass("store_ft_focus")});e("#store_product_stock .store_track_stock input:checkbox").live("change",function(){var t=e(this).closest("td").find("input:text");t.attr("disabled",!this.checked).toggleClass("disabled",!this.checked);this.checked&&t.focus()});e("#store_product_stock .checkall_stock_publish").live("change",function(){e(this).closest("table").find(".store_track_stock input:checkbox").attr("checked",this.checked).trigger("change")})}});